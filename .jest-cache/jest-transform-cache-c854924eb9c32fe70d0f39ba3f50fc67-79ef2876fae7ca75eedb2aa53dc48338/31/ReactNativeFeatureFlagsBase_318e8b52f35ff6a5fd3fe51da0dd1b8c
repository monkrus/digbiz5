4c0fb6a5724e281d502ab8e70a5fc2fa
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createJavaScriptFlagGetter = createJavaScriptFlagGetter;
exports.createNativeFlagGetter = createNativeFlagGetter;
exports.getOverrides = getOverrides;
exports.setOverrides = setOverrides;
var _NativeReactNativeFeatureFlags = _interopRequireDefault(require("./specs/NativeReactNativeFeatureFlags"));
var accessedFeatureFlags = new Set();
var overrides;
function createGetter(configName, customValueGetter, defaultValue) {
  var cachedValue;
  return function () {
    if (cachedValue == null) {
      var _customValueGetter;
      cachedValue = (_customValueGetter = customValueGetter()) != null ? _customValueGetter : defaultValue;
    }
    return cachedValue;
  };
}
function createJavaScriptFlagGetter(configName, defaultValue) {
  return createGetter(configName, function () {
    var _overrides, _overrides$configName;
    accessedFeatureFlags.add(configName);
    return (_overrides = overrides) == null || (_overrides$configName = _overrides[configName]) == null ? void 0 : _overrides$configName.call(_overrides, defaultValue);
  }, defaultValue);
}
function createNativeFlagGetter(configName, defaultValue) {
  var skipUnavailableNativeModuleError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  return createGetter(configName, function () {
    var _NativeReactNativeFea;
    maybeLogUnavailableNativeModuleError(configName);
    return _NativeReactNativeFeatureFlags.default == null || (_NativeReactNativeFea = _NativeReactNativeFeatureFlags.default[configName]) == null ? void 0 : _NativeReactNativeFea.call(_NativeReactNativeFeatureFlags.default);
  }, defaultValue);
}
function getOverrides() {
  return overrides;
}
function setOverrides(newOverrides) {
  if (overrides != null) {
    throw new Error('Feature flags cannot be overridden more than once');
  }
  if (accessedFeatureFlags.size > 0) {
    var accessedFeatureFlagsStr = Array.from(accessedFeatureFlags).join(', ');
    throw new Error(`Feature flags were accessed before being overridden: ${accessedFeatureFlagsStr}`);
  }
  overrides = newOverrides;
}
var reportedConfigNames = new Set();
var hasTurboModules = global.RN$Bridgeless === true || global.__turboModuleProxy != null;
function maybeLogUnavailableNativeModuleError(configName) {
  if (!_NativeReactNativeFeatureFlags.default && process.env.NODE_ENV !== 'test' && !reportedConfigNames.has(configName) && hasTurboModules) {
    reportedConfigNames.add(configName);
    console.error(`Could not access feature flag '${configName}' because native module method was not available`);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImFjY2Vzc2VkRmVhdHVyZUZsYWdzIiwiU2V0Iiwib3ZlcnJpZGVzIiwiY3JlYXRlR2V0dGVyIiwiY29uZmlnTmFtZSIsImN1c3RvbVZhbHVlR2V0dGVyIiwiZGVmYXVsdFZhbHVlIiwiY2FjaGVkVmFsdWUiLCJfY3VzdG9tVmFsdWVHZXR0ZXIiLCJjcmVhdGVKYXZhU2NyaXB0RmxhZ0dldHRlciIsIl9vdmVycmlkZXMiLCJfb3ZlcnJpZGVzJGNvbmZpZ05hbWUiLCJhZGQiLCJjYWxsIiwiY3JlYXRlTmF0aXZlRmxhZ0dldHRlciIsInNraXBVbmF2YWlsYWJsZU5hdGl2ZU1vZHVsZUVycm9yIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX05hdGl2ZVJlYWN0TmF0aXZlRmVhIiwibWF5YmVMb2dVbmF2YWlsYWJsZU5hdGl2ZU1vZHVsZUVycm9yIiwiTmF0aXZlUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MiLCJnZXRPdmVycmlkZXMiLCJzZXRPdmVycmlkZXMiLCJuZXdPdmVycmlkZXMiLCJFcnJvciIsInNpemUiLCJhY2Nlc3NlZEZlYXR1cmVGbGFnc1N0ciIsIkFycmF5IiwiZnJvbSIsImpvaW4iLCJyZXBvcnRlZENvbmZpZ05hbWVzIiwiaGFzVHVyYm9Nb2R1bGVzIiwiZ2xvYmFsIiwiUk4kQnJpZGdlbGVzcyIsIl9fdHVyYm9Nb2R1bGVQcm94eSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImhhcyIsImNvbnNvbGUiLCJlcnJvciJdLCJzb3VyY2VzIjpbIlJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzQmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3cgc3RyaWN0XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge1xuICBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFnc0pzT25seSxcbiAgUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3NKc09ubHlPdmVycmlkZXMsXG59IGZyb20gJy4vUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MnO1xuXG5pbXBvcnQgTmF0aXZlUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MgZnJvbSAnLi9zcGVjcy9OYXRpdmVSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyc7XG5cbmNvbnN0IGFjY2Vzc2VkRmVhdHVyZUZsYWdzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbmxldCBvdmVycmlkZXM6ID9SZWFjdE5hdGl2ZUZlYXR1cmVGbGFnc0pzT25seU92ZXJyaWRlcztcblxuZXhwb3J0IHR5cGUgR2V0dGVyPFQ+ID0gKCkgPT4gVDtcblxuLy8gVGhpcyBkZWZpbmVzIHRoZSB0eXBlcyBmb3IgdGhlIG92ZXJyaWRlcyBvYmplY3QsIHdob3NlIG1ldGhvZHMgYWxzbyByZWNlaXZlXG4vLyB0aGUgZGVmYXVsdCB2YWx1ZSBhcyBhIHBhcmFtZXRlci5cbmV4cG9ydCB0eXBlIE92ZXJyaWRlc0ZvcjxUPiA9IFBhcnRpYWw8e1xuICBba2V5IGluIGtleW9mIFRdOiAoUmV0dXJuVHlwZTxUW2tleV0+KSA9PiBSZXR1cm5UeXBlPFRba2V5XT4sXG59PjtcblxuZnVuY3Rpb24gY3JlYXRlR2V0dGVyPFQ6IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmc+KFxuICBjb25maWdOYW1lOiBzdHJpbmcsXG4gIGN1c3RvbVZhbHVlR2V0dGVyOiBHZXR0ZXI8P1Q+LFxuICBkZWZhdWx0VmFsdWU6IFQsXG4pOiBHZXR0ZXI8VD4ge1xuICBsZXQgY2FjaGVkVmFsdWU6ID9UO1xuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKGNhY2hlZFZhbHVlID09IG51bGwpIHtcbiAgICAgIGNhY2hlZFZhbHVlID0gY3VzdG9tVmFsdWVHZXR0ZXIoKSA/PyBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRWYWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUphdmFTY3JpcHRGbGFnR2V0dGVyPFxuICBLOiAkS2V5czxSZWFjdE5hdGl2ZUZlYXR1cmVGbGFnc0pzT25seT4sXG4+KFxuICBjb25maWdOYW1lOiBLLFxuICBkZWZhdWx0VmFsdWU6IFJldHVyblR5cGU8UmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3NKc09ubHlbS10+LFxuKTogR2V0dGVyPFJldHVyblR5cGU8UmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3NKc09ubHlbS10+PiB7XG4gIHJldHVybiBjcmVhdGVHZXR0ZXIoXG4gICAgY29uZmlnTmFtZSxcbiAgICAoKSA9PiB7XG4gICAgICBhY2Nlc3NlZEZlYXR1cmVGbGFncy5hZGQoY29uZmlnTmFtZSk7XG4gICAgICByZXR1cm4gb3ZlcnJpZGVzPy5bY29uZmlnTmFtZV0/LihkZWZhdWx0VmFsdWUpO1xuICAgIH0sXG4gICAgZGVmYXVsdFZhbHVlLFxuICApO1xufVxuXG50eXBlIE5hdGl2ZUZlYXR1cmVGbGFncyA9ICROb25NYXliZVR5cGU8dHlwZW9mIE5hdGl2ZVJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZUZsYWdHZXR0ZXI8SzogJEtleXM8TmF0aXZlRmVhdHVyZUZsYWdzPj4oXG4gIGNvbmZpZ05hbWU6IEssXG4gIGRlZmF1bHRWYWx1ZTogUmV0dXJuVHlwZTwkTm9uTWF5YmVUeXBlPE5hdGl2ZUZlYXR1cmVGbGFnc1tLXT4+LFxuICBza2lwVW5hdmFpbGFibGVOYXRpdmVNb2R1bGVFcnJvcjogYm9vbGVhbiA9IGZhbHNlLFxuKTogR2V0dGVyPFJldHVyblR5cGU8JE5vbk1heWJlVHlwZTxOYXRpdmVGZWF0dXJlRmxhZ3NbS10+Pj4ge1xuICByZXR1cm4gY3JlYXRlR2V0dGVyKFxuICAgIGNvbmZpZ05hbWUsXG4gICAgKCkgPT4ge1xuICAgICAgbWF5YmVMb2dVbmF2YWlsYWJsZU5hdGl2ZU1vZHVsZUVycm9yKGNvbmZpZ05hbWUpO1xuICAgICAgcmV0dXJuIE5hdGl2ZVJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzPy5bY29uZmlnTmFtZV0/LigpO1xuICAgIH0sXG4gICAgZGVmYXVsdFZhbHVlLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3ZlcnJpZGVzKCk6ID9SZWFjdE5hdGl2ZUZlYXR1cmVGbGFnc0pzT25seU92ZXJyaWRlcyB7XG4gIHJldHVybiBvdmVycmlkZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPdmVycmlkZXMoXG4gIG5ld092ZXJyaWRlczogUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3NKc09ubHlPdmVycmlkZXMsXG4pOiB2b2lkIHtcbiAgaWYgKG92ZXJyaWRlcyAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGZWF0dXJlIGZsYWdzIGNhbm5vdCBiZSBvdmVycmlkZGVuIG1vcmUgdGhhbiBvbmNlJyk7XG4gIH1cblxuICBpZiAoYWNjZXNzZWRGZWF0dXJlRmxhZ3Muc2l6ZSA+IDApIHtcbiAgICBjb25zdCBhY2Nlc3NlZEZlYXR1cmVGbGFnc1N0ciA9IEFycmF5LmZyb20oYWNjZXNzZWRGZWF0dXJlRmxhZ3MpLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZlYXR1cmUgZmxhZ3Mgd2VyZSBhY2Nlc3NlZCBiZWZvcmUgYmVpbmcgb3ZlcnJpZGRlbjogJHthY2Nlc3NlZEZlYXR1cmVGbGFnc1N0cn1gLFxuICAgICk7XG4gIH1cblxuICBvdmVycmlkZXMgPSBuZXdPdmVycmlkZXM7XG59XG5cbmNvbnN0IHJlcG9ydGVkQ29uZmlnTmFtZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuY29uc3QgaGFzVHVyYm9Nb2R1bGVzID1cbiAgZ2xvYmFsLlJOJEJyaWRnZWxlc3MgPT09IHRydWUgfHwgZ2xvYmFsLl9fdHVyYm9Nb2R1bGVQcm94eSAhPSBudWxsO1xuXG5mdW5jdGlvbiBtYXliZUxvZ1VuYXZhaWxhYmxlTmF0aXZlTW9kdWxlRXJyb3IoY29uZmlnTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChcbiAgICAhTmF0aXZlUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MgJiZcbiAgICAvLyBEb24ndCBsb2cgaW4gdGVzdHMuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJlxuICAgIC8vIERvbid0IGxvZyBtb3JlIHRoYW4gb25jZSBwZXIgY29uZmlnXG4gICAgIXJlcG9ydGVkQ29uZmlnTmFtZXMuaGFzKGNvbmZpZ05hbWUpICYmXG4gICAgLy8gRG9uJ3QgbG9nIGluIHRoZSBsZWdhY3kgYXJjaGl0ZWN0dXJlLlxuICAgIGhhc1R1cmJvTW9kdWxlc1xuICApIHtcbiAgICByZXBvcnRlZENvbmZpZ05hbWVzLmFkZChjb25maWdOYW1lKTtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYENvdWxkIG5vdCBhY2Nlc3MgZmVhdHVyZSBmbGFnICcke2NvbmZpZ05hbWV9JyBiZWNhdXNlIG5hdGl2ZSBtb2R1bGUgbWV0aG9kIHdhcyBub3QgYXZhaWxhYmxlYCxcbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBZUEsSUFBQUEsOEJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQU1DLG9CQUFpQyxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0FBQ25ELElBQUlDLFNBQWtEO0FBVXRELFNBQVNDLFlBQVlBLENBQ25CQyxVQUFrQixFQUNsQkMsaUJBQTZCLEVBQzdCQyxZQUFlLEVBQ0o7RUFDWCxJQUFJQyxXQUFlO0VBRW5CLE9BQU8sWUFBTTtJQUNYLElBQUlBLFdBQVcsSUFBSSxJQUFJLEVBQUU7TUFBQSxJQUFBQyxrQkFBQTtNQUN2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