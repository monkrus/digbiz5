5ccad8370712fb41694c7c4a5f9b42b6
var _tokenUtils = require("../../../src/utils/tokenUtils");
var createMockToken = function createMockToken(payload) {
  var header = {
    alg: 'HS256',
    typ: 'JWT'
  };
  var encodedHeader = Buffer.from(JSON.stringify(header)).toString('base64');
  var encodedPayload = Buffer.from(JSON.stringify(payload)).toString('base64');
  var signature = 'mock-signature';
  return `${encodedHeader}.${encodedPayload}.${signature}`;
};
var futureTime = Math.floor(Date.now() / 1000) + 3600;
var pastTime = Math.floor(Date.now() / 1000) - 3600;
var nearFutureTime = Math.floor(Date.now() / 1000) + 60;
describe('Token Utilities', function () {
  describe('decodeJWTPayload', function () {
    it('should decode valid JWT payload', function () {
      var payload = {
        sub: '123',
        email: 'test@example.com',
        exp: futureTime
      };
      var token = createMockToken(payload);
      var decoded = (0, _tokenUtils.decodeJWTPayload)(token);
      expect(decoded).toEqual(payload);
    });
    it('should return null for invalid token format', function () {
      var invalidToken = 'invalid.token';
      var decoded = (0, _tokenUtils.decodeJWTPayload)(invalidToken);
      expect(decoded).toBeNull();
    });
    it('should return null for malformed token', function () {
      var malformedToken = 'header.invalid-base64.signature';
      var decoded = (0, _tokenUtils.decodeJWTPayload)(malformedToken);
      expect(decoded).toBeNull();
    });
  });
  describe('isTokenExpired', function () {
    it('should return false for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(false);
    });
    it('should return true for expired token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(true);
    });
    it('should return true for token without expiration', function () {
      var payload = {
        sub: '123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(true);
    });
  });
  describe('getTokenExpirationTime', function () {
    it('should return expiration time for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenExpirationTime)(token)).toBe(futureTime);
    });
    it('should return null for token without expiration', function () {
      var payload = {
        sub: '123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenExpirationTime)(token)).toBeNull();
    });
  });
  describe('getTokenTimeRemaining', function () {
    it('should return remaining time for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var remaining = (0, _tokenUtils.getTokenTimeRemaining)(token);
      expect(remaining).toBeGreaterThan(0);
      expect(remaining).toBeLessThanOrEqual(3600);
    });
    it('should return 0 for expired token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenTimeRemaining)(token)).toBe(0);
    });
  });
  describe('validateTokens', function () {
    var mockTokens = {
      accessToken: '',
      refreshToken: '',
      expiresIn: 3600,
      tokenType: 'Bearer'
    };
    it('should validate tokens correctly for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(true);
      expect(validation.isExpired).toBe(false);
      expect(validation.shouldRefresh).toBe(false);
    });
    it('should suggest refresh for token expiring soon', function () {
      var payload = {
        exp: nearFutureTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(true);
      expect(validation.shouldRefresh).toBe(true);
    });
    it('should handle expired tokens', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(false);
      expect(validation.isExpired).toBe(true);
    });
  });
  describe('getUserIdFromToken', function () {
    it('should extract user ID from sub field', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBe('user123');
    });
    it('should extract user ID from userId field', function () {
      var payload = {
        userId: 'user456'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBe('user456');
    });
    it('should return null if no user ID found', function () {
      var payload = {
        email: 'test@example.com'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBeNull();
    });
  });
  describe('getEmailFromToken', function () {
    it('should extract email from token', function () {
      var payload = {
        email: 'test@example.com'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getEmailFromToken)(token)).toBe('test@example.com');
    });
    it('should return null if no email found', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getEmailFromToken)(token)).toBeNull();
    });
  });
  describe('getRolesFromToken', function () {
    it('should extract roles from token', function () {
      var payload = {
        roles: ['admin', 'user']
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getRolesFromToken)(token)).toEqual(['admin', 'user']);
    });
    it('should return empty array if no roles found', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getRolesFromToken)(token)).toEqual([]);
    });
  });
  describe('formatAuthHeader', function () {
    it('should format Bearer token header', function () {
      var token = 'abc123';
      expect((0, _tokenUtils.formatAuthHeader)(token)).toBe('Bearer abc123');
    });
    it('should format custom token type', function () {
      var token = 'abc123';
      expect((0, _tokenUtils.formatAuthHeader)(token, 'Basic')).toBe('Basic abc123');
    });
  });
  describe('getOptimalRefreshTime', function () {
    it('should calculate optimal refresh time', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: token,
        refreshToken: '',
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      var refreshTime = (0, _tokenUtils.getOptimalRefreshTime)(tokens);
      expect(refreshTime).toBeGreaterThan(60);
      expect(refreshTime).toBeLessThan(3600);
    });
  });
  describe('isRefreshTokenValid', function () {
    it('should validate refresh token without expiration', function () {
      var payload = {
        type: 'refresh'
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(true);
    });
    it('should validate refresh token with future expiration', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(true);
    });
    it('should reject expired refresh token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(false);
    });
  });
  describe('getTokenInfo', function () {
    it('should extract comprehensive token information', function () {
      var issuedAt = Math.floor(Date.now() / 1000) - 1800;
      var payload = {
        sub: 'user123',
        email: 'test@example.com',
        roles: ['user'],
        iat: issuedAt,
        exp: futureTime
      };
      var token = createMockToken(payload);
      var info = (0, _tokenUtils.getTokenInfo)(token);
      expect(info).toEqual({
        userId: 'user123',
        email: 'test@example.com',
        roles: ['user'],
        issuedAt: new Date(issuedAt * 1000),
        expiresAt: new Date(futureTime * 1000),
        timeRemaining: expect.any(Number),
        isExpired: false
      });
    });
    it('should return null for invalid token', function () {
      var invalidToken = 'invalid.token';
      expect((0, _tokenUtils.getTokenInfo)(invalidToken)).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW5VdGlscyIsInJlcXVpcmUiLCJjcmVhdGVNb2NrVG9rZW4iLCJwYXlsb2FkIiwiaGVhZGVyIiwiYWxnIiwidHlwIiwiZW5jb2RlZEhlYWRlciIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJlbmNvZGVkUGF5bG9hZCIsInNpZ25hdHVyZSIsImZ1dHVyZVRpbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwicGFzdFRpbWUiLCJuZWFyRnV0dXJlVGltZSIsImRlc2NyaWJlIiwiaXQiLCJzdWIiLCJlbWFpbCIsImV4cCIsInRva2VuIiwiZGVjb2RlZCIsImRlY29kZUpXVFBheWxvYWQiLCJleHBlY3QiLCJ0b0VxdWFsIiwiaW52YWxpZFRva2VuIiwidG9CZU51bGwiLCJtYWxmb3JtZWRUb2tlbiIsImlzVG9rZW5FeHBpcmVkIiwidG9CZSIsImdldFRva2VuRXhwaXJhdGlvblRpbWUiLCJyZW1haW5pbmciLCJnZXRUb2tlblRpbWVSZW1haW5pbmciLCJ0b0JlR3JlYXRlclRoYW4iLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwibW9ja1Rva2VucyIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiZXhwaXJlc0luIiwidG9rZW5UeXBlIiwidG9rZW5zIiwiT2JqZWN0IiwiYXNzaWduIiwidmFsaWRhdGlvbiIsInZhbGlkYXRlVG9rZW5zIiwiaXNWYWxpZCIsImlzRXhwaXJlZCIsInNob3VsZFJlZnJlc2giLCJnZXRVc2VySWRGcm9tVG9rZW4iLCJ1c2VySWQiLCJnZXRFbWFpbEZyb21Ub2tlbiIsInJvbGVzIiwiZ2V0Um9sZXNGcm9tVG9rZW4iLCJmb3JtYXRBdXRoSGVhZGVyIiwicmVmcmVzaFRpbWUiLCJnZXRPcHRpbWFsUmVmcmVzaFRpbWUiLCJ0b0JlTGVzc1RoYW4iLCJ0eXBlIiwiaXNSZWZyZXNoVG9rZW5WYWxpZCIsImlzc3VlZEF0IiwiaWF0IiwiaW5mbyIsImdldFRva2VuSW5mbyIsImV4cGlyZXNBdCIsInRpbWVSZW1haW5pbmciLCJhbnkiLCJOdW1iZXIiXSwic291cmNlcyI6WyJ0b2tlblV0aWxzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUb2tlbiBVdGlsaXRpZXMgVGVzdCBTdWl0ZVxuICpcbiAqIFRlc3RzIEpXVCB0b2tlbiB2YWxpZGF0aW9uLCBwYXJzaW5nLCBhbmQgbWFuYWdlbWVudCB1dGlsaXRpZXMuXG4gKiBWYWxpZGF0ZXMgdG9rZW4gZXhwaXJhdGlvbiwgcGF5bG9hZCBleHRyYWN0aW9uLCBhbmQgdGltaW5nIGNhbGN1bGF0aW9ucy5cbiAqL1xuXG5pbXBvcnQge1xuICBkZWNvZGVKV1RQYXlsb2FkLFxuICBpc1Rva2VuRXhwaXJlZCxcbiAgZ2V0VG9rZW5FeHBpcmF0aW9uVGltZSxcbiAgZ2V0VG9rZW5UaW1lUmVtYWluaW5nLFxuICB2YWxpZGF0ZVRva2VucyxcbiAgZ2V0VXNlcklkRnJvbVRva2VuLFxuICBnZXRFbWFpbEZyb21Ub2tlbixcbiAgZ2V0Um9sZXNGcm9tVG9rZW4sXG4gIGZvcm1hdEF1dGhIZWFkZXIsXG4gIGdldE9wdGltYWxSZWZyZXNoVGltZSxcbiAgaXNSZWZyZXNoVG9rZW5WYWxpZCxcbiAgZ2V0VG9rZW5JbmZvLFxufSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvdG9rZW5VdGlscyc7XG5pbXBvcnQgeyBKV1RUb2tlbnMgfSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMvYXV0aCc7XG5cbi8vIE1vY2sgSldUIHRva2VucyBmb3IgdGVzdGluZ1xuY29uc3QgY3JlYXRlTW9ja1Rva2VuID0gKHBheWxvYWQ6IGFueSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGhlYWRlciA9IHsgYWxnOiAnSFMyNTYnLCB0eXA6ICdKV1QnIH07XG4gIGNvbnN0IGVuY29kZWRIZWFkZXIgPSBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShoZWFkZXIpKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIGNvbnN0IGVuY29kZWRQYXlsb2FkID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLnRvU3RyaW5nKFxuICAgICdiYXNlNjQnLFxuICApO1xuICBjb25zdCBzaWduYXR1cmUgPSAnbW9jay1zaWduYXR1cmUnO1xuICByZXR1cm4gYCR7ZW5jb2RlZEhlYWRlcn0uJHtlbmNvZGVkUGF5bG9hZH0uJHtzaWduYXR1cmV9YDtcbn07XG5cbmNvbnN0IGZ1dHVyZVRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIDM2MDA7IC8vIDEgaG91ciBmcm9tIG5vd1xuY29uc3QgcGFzdFRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIDM2MDA7IC8vIDEgaG91ciBhZ29cbmNvbnN0IG5lYXJGdXR1cmVUaW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyA2MDsgLy8gMSBtaW51dGUgZnJvbSBub3dcblxuZGVzY3JpYmUoJ1Rva2VuIFV0aWxpdGllcycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2RlY29kZUpXVFBheWxvYWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZWNvZGUgdmFsaWQgSldUIHBheWxvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBzdWI6ICcxMjMnLFxuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICBleHA6IGZ1dHVyZVRpbWUsXG4gICAgICB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG5cbiAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVKV1RQYXlsb2FkKHRva2VuKTtcblxuICAgICAgZXhwZWN0KGRlY29kZWQpLnRvRXF1YWwocGF5bG9hZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGZvciBpbnZhbGlkIHRva2VuIGZvcm1hdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRUb2tlbiA9ICdpbnZhbGlkLnRva2VuJztcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVKV1RQYXlsb2FkKGludmFsaWRUb2tlbik7XG5cbiAgICAgIGV4cGVjdChkZWNvZGVkKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgbWFsZm9ybWVkIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWFsZm9ybWVkVG9rZW4gPSAnaGVhZGVyLmludmFsaWQtYmFzZTY0LnNpZ25hdHVyZSc7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlSldUUGF5bG9hZChtYWxmb3JtZWRUb2tlbik7XG5cbiAgICAgIGV4cGVjdChkZWNvZGVkKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaXNUb2tlbkV4cGlyZWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIHZhbGlkIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBmdXR1cmVUaW1lIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGlzVG9rZW5FeHBpcmVkKHRva2VuKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBleHBpcmVkIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBwYXN0VGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChpc1Rva2VuRXhwaXJlZCh0b2tlbikpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciB0b2tlbiB3aXRob3V0IGV4cGlyYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBzdWI6ICcxMjMnIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGlzVG9rZW5FeHBpcmVkKHRva2VuKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFRva2VuRXhwaXJhdGlvblRpbWUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZXhwaXJhdGlvbiB0aW1lIGZvciB2YWxpZCB0b2tlbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogZnV0dXJlVGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChnZXRUb2tlbkV4cGlyYXRpb25UaW1lKHRva2VuKSkudG9CZShmdXR1cmVUaW1lKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIHRva2VuIHdpdGhvdXQgZXhwaXJhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHN1YjogJzEyMycgfTtcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xuXG4gICAgICBleHBlY3QoZ2V0VG9rZW5FeHBpcmF0aW9uVGltZSh0b2tlbikpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRUb2tlblRpbWVSZW1haW5pbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcmVtYWluaW5nIHRpbWUgZm9yIHZhbGlkIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBmdXR1cmVUaW1lIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgY29uc3QgcmVtYWluaW5nID0gZ2V0VG9rZW5UaW1lUmVtYWluaW5nKHRva2VuKTtcbiAgICAgIGV4cGVjdChyZW1haW5pbmcpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZW1haW5pbmcpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMzYwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGZvciBleHBpcmVkIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBwYXN0VGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChnZXRUb2tlblRpbWVSZW1haW5pbmcodG9rZW4pKS50b0JlKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndmFsaWRhdGVUb2tlbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1Rva2VuczogSldUVG9rZW5zID0ge1xuICAgICAgYWNjZXNzVG9rZW46ICcnLFxuICAgICAgcmVmcmVzaFRva2VuOiAnJyxcbiAgICAgIGV4cGlyZXNJbjogMzYwMCxcbiAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdG9rZW5zIGNvcnJlY3RseSBmb3IgdmFsaWQgdG9rZW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IGZ1dHVyZVRpbWUgfTtcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xuICAgICAgY29uc3QgdG9rZW5zID0geyAuLi5tb2NrVG9rZW5zLCBhY2Nlc3NUb2tlbjogdG9rZW4gfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlVG9rZW5zKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc0V4cGlyZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uc2hvdWxkUmVmcmVzaCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1Z2dlc3QgcmVmcmVzaCBmb3IgdG9rZW4gZXhwaXJpbmcgc29vbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogbmVhckZ1dHVyZVRpbWUgfTtcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xuICAgICAgY29uc3QgdG9rZW5zID0geyAuLi5tb2NrVG9rZW5zLCBhY2Nlc3NUb2tlbjogdG9rZW4gfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlVG9rZW5zKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5zaG91bGRSZWZyZXNoKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXhwaXJlZCB0b2tlbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IHBhc3RUaW1lIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcbiAgICAgIGNvbnN0IHRva2VucyA9IHsgLi4ubW9ja1Rva2VucywgYWNjZXNzVG9rZW46IHRva2VuIH07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVRva2Vucyh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzRXhwaXJlZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFVzZXJJZEZyb21Ub2tlbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3QgdXNlciBJRCBmcm9tIHN1YiBmaWVsZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHN1YjogJ3VzZXIxMjMnIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGdldFVzZXJJZEZyb21Ub2tlbih0b2tlbikpLnRvQmUoJ3VzZXIxMjMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXh0cmFjdCB1c2VyIElEIGZyb20gdXNlcklkIGZpZWxkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXNlcklkOiAndXNlcjQ1NicgfTtcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xuXG4gICAgICBleHBlY3QoZ2V0VXNlcklkRnJvbVRva2VuKHRva2VuKSkudG9CZSgndXNlcjQ1NicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBpZiBubyB1c2VyIElEIGZvdW5kJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChnZXRVc2VySWRGcm9tVG9rZW4odG9rZW4pKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0RW1haWxGcm9tVG9rZW4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBleHRyYWN0IGVtYWlsIGZyb20gdG9rZW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGdldEVtYWlsRnJvbVRva2VuKHRva2VuKSkudG9CZSgndGVzdEBleGFtcGxlLmNvbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBpZiBubyBlbWFpbCBmb3VuZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHN1YjogJ3VzZXIxMjMnIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGdldEVtYWlsRnJvbVRva2VuKHRva2VuKSkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFJvbGVzRnJvbVRva2VuJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXh0cmFjdCByb2xlcyBmcm9tIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgcm9sZXM6IFsnYWRtaW4nLCAndXNlciddIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGdldFJvbGVzRnJvbVRva2VuKHRva2VuKSkudG9FcXVhbChbJ2FkbWluJywgJ3VzZXInXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSBhcnJheSBpZiBubyByb2xlcyBmb3VuZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHN1YjogJ3VzZXIxMjMnIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGdldFJvbGVzRnJvbVRva2VuKHRva2VuKSkudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmb3JtYXRBdXRoSGVhZGVyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZm9ybWF0IEJlYXJlciB0b2tlbiBoZWFkZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbiA9ICdhYmMxMjMnO1xuXG4gICAgICBleHBlY3QoZm9ybWF0QXV0aEhlYWRlcih0b2tlbikpLnRvQmUoJ0JlYXJlciBhYmMxMjMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZm9ybWF0IGN1c3RvbSB0b2tlbiB0eXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSAnYWJjMTIzJztcblxuICAgICAgZXhwZWN0KGZvcm1hdEF1dGhIZWFkZXIodG9rZW4sICdCYXNpYycpKS50b0JlKCdCYXNpYyBhYmMxMjMnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldE9wdGltYWxSZWZyZXNoVGltZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBvcHRpbWFsIHJlZnJlc2ggdGltZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogZnV0dXJlVGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG4gICAgICBjb25zdCB0b2tlbnM6IEpXVFRva2VucyA9IHtcbiAgICAgICAgYWNjZXNzVG9rZW46IHRva2VuLFxuICAgICAgICByZWZyZXNoVG9rZW46ICcnLFxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZWZyZXNoVGltZSA9IGdldE9wdGltYWxSZWZyZXNoVGltZSh0b2tlbnMpO1xuXG4gICAgICBleHBlY3QocmVmcmVzaFRpbWUpLnRvQmVHcmVhdGVyVGhhbig2MCk7IC8vIEF0IGxlYXN0IDYwIHNlY29uZHNcbiAgICAgIGV4cGVjdChyZWZyZXNoVGltZSkudG9CZUxlc3NUaGFuKDM2MDApOyAvLyBMZXNzIHRoYW4gZnVsbCB0b2tlbiBsaWZldGltZVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaXNSZWZyZXNoVG9rZW5WYWxpZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJlZnJlc2ggdG9rZW4gd2l0aG91dCBleHBpcmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdHlwZTogJ3JlZnJlc2gnIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcbiAgICAgIGNvbnN0IHRva2VuczogSldUVG9rZW5zID0ge1xuICAgICAgICBhY2Nlc3NUb2tlbjogJycsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogdG9rZW4sXG4gICAgICAgIGV4cGlyZXNJbjogMzYwMCxcbiAgICAgICAgdG9rZW5UeXBlOiAnQmVhcmVyJyxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChpc1JlZnJlc2hUb2tlblZhbGlkKHRva2VucykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJlZnJlc2ggdG9rZW4gd2l0aCBmdXR1cmUgZXhwaXJhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogZnV0dXJlVGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG4gICAgICBjb25zdCB0b2tlbnM6IEpXVFRva2VucyA9IHtcbiAgICAgICAgYWNjZXNzVG9rZW46ICcnLFxuICAgICAgICByZWZyZXNoVG9rZW46IHRva2VuLFxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoaXNSZWZyZXNoVG9rZW5WYWxpZCh0b2tlbnMpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZXhwaXJlZCByZWZyZXNoIHRva2VuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBwYXN0VGltZSB9O1xuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XG4gICAgICBjb25zdCB0b2tlbnM6IEpXVFRva2VucyA9IHtcbiAgICAgICAgYWNjZXNzVG9rZW46ICcnLFxuICAgICAgICByZWZyZXNoVG9rZW46IHRva2VuLFxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoaXNSZWZyZXNoVG9rZW5WYWxpZCh0b2tlbnMpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFRva2VuSW5mbycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3QgY29tcHJlaGVuc2l2ZSB0b2tlbiBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzc3VlZEF0ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgLSAxODAwOyAvLyAzMCBtaW51dGVzIGFnb1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgc3ViOiAndXNlcjEyMycsXG4gICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHJvbGVzOiBbJ3VzZXInXSxcbiAgICAgICAgaWF0OiBpc3N1ZWRBdCxcbiAgICAgICAgZXhwOiBmdXR1cmVUaW1lLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xuXG4gICAgICBjb25zdCBpbmZvID0gZ2V0VG9rZW5JbmZvKHRva2VuKTtcblxuICAgICAgZXhwZWN0KGluZm8pLnRvRXF1YWwoe1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgcm9sZXM6IFsndXNlciddLFxuICAgICAgICBpc3N1ZWRBdDogbmV3IERhdGUoaXNzdWVkQXQgKiAxMDAwKSxcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShmdXR1cmVUaW1lICogMTAwMCksXG4gICAgICAgIHRpbWVSZW1haW5pbmc6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgaXNFeHBpcmVkOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCB0b2tlbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRUb2tlbiA9ICdpbnZhbGlkLnRva2VuJztcblxuICAgICAgZXhwZWN0KGdldFRva2VuSW5mbyhpbnZhbGlkVG9rZW4pKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFPQSxJQUFBQSxXQUFBLEdBQUFDLE9BQUE7QUFpQkEsSUFBTUMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFJQyxPQUFZLEVBQWE7RUFDaEQsSUFBTUMsTUFBTSxHQUFHO0lBQUVDLEdBQUcsRUFBRSxPQUFPO0lBQUVDLEdBQUcsRUFBRTtFQUFNLENBQUM7RUFDM0MsSUFBTUMsYUFBYSxHQUFHQyxNQUFNLENBQUNDLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLENBQUNQLE1BQU0sQ0FBQyxDQUFDLENBQUNRLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDNUUsSUFBTUMsY0FBYyxHQUFHTCxNQUFNLENBQUNDLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLENBQUNSLE9BQU8sQ0FBQyxDQUFDLENBQUNTLFFBQVEsQ0FDbEUsUUFDRixDQUFDO0VBQ0QsSUFBTUUsU0FBUyxHQUFHLGdCQUFnQjtFQUNsQyxPQUFPLEdBQUdQLGFBQWEsSUFBSU0sY0FBYyxJQUFJQyxTQUFTLEVBQUU7QUFDMUQsQ0FBQztBQUVELElBQU1DLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJO0FBQ3ZELElBQU1DLFFBQVEsR0FBR0osSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJO0FBQ3JELElBQU1FLGNBQWMsR0FBR0wsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMs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