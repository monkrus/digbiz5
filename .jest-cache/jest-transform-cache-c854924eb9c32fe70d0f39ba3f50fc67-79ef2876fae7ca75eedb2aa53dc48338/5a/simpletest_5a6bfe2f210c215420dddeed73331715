bd489b90bdf3e11d517edfb96240ee7b
var tokenUtils = require('./simple-tokenUtils.ts');
describe('Simple TokenUtils', function () {
  test('formatAuthHeader should work', function () {
    var result = tokenUtils.formatAuthHeader('test');
    console.log('Simple formatAuthHeader result:', result);
    expect(result).toBe('Bearer test');
  });
  test('decodeJWTPayload should work', function () {
    var header = JSON.stringify({
      alg: 'HS256',
      typ: 'JWT'
    });
    var payload = JSON.stringify({
      sub: '123',
      exp: Math.floor(Date.now() / 1000) + 3600
    });
    var encodedHeader = Buffer.from(header).toString('base64');
    var encodedPayload = Buffer.from(payload).toString('base64');
    var token = `${encodedHeader}.${encodedPayload}.signature`;
    var decoded = tokenUtils.decodeJWTPayload(token);
    console.log('Simple decoded result:', decoded);
    expect(decoded).not.toBeUndefined();
    expect(decoded).not.toBeNull();
    expect(decoded.sub).toBe('123');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0b2tlblV0aWxzIiwicmVxdWlyZSIsImRlc2NyaWJlIiwidGVzdCIsInJlc3VsdCIsImZvcm1hdEF1dGhIZWFkZXIiLCJjb25zb2xlIiwibG9nIiwiZXhwZWN0IiwidG9CZSIsImhlYWRlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGciLCJ0eXAiLCJwYXlsb2FkIiwic3ViIiwiZXhwIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImVuY29kZWRIZWFkZXIiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJlbmNvZGVkUGF5bG9hZCIsInRva2VuIiwiZGVjb2RlZCIsImRlY29kZUpXVFBheWxvYWQiLCJub3QiLCJ0b0JlVW5kZWZpbmVkIiwidG9CZU51bGwiXSwic291cmNlcyI6WyJzaW1wbGUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNpbXBsZSB0ZXN0IGZvciBpc29sYXRlZCB0b2tlblV0aWxzXG4gKi9cblxuY29uc3QgdG9rZW5VdGlscyA9IHJlcXVpcmUoJy4vc2ltcGxlLXRva2VuVXRpbHMudHMnKTtcblxuZGVzY3JpYmUoJ1NpbXBsZSBUb2tlblV0aWxzJywgKCkgPT4ge1xuICB0ZXN0KCdmb3JtYXRBdXRoSGVhZGVyIHNob3VsZCB3b3JrJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRva2VuVXRpbHMuZm9ybWF0QXV0aEhlYWRlcigndGVzdCcpO1xuICAgIGNvbnNvbGUubG9nKCdTaW1wbGUgZm9ybWF0QXV0aEhlYWRlciByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICBleHBlY3QocmVzdWx0KS50b0JlKCdCZWFyZXIgdGVzdCcpO1xuICB9KTtcbiAgXG4gIHRlc3QoJ2RlY29kZUpXVFBheWxvYWQgc2hvdWxkIHdvcmsnLCAoKSA9PiB7XG4gICAgY29uc3QgaGVhZGVyID0gSlNPTi5zdHJpbmdpZnkoeyBhbGc6ICdIUzI1NicsIHR5cDogJ0pXVCcgfSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsgc3ViOiAnMTIzJywgZXhwOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIDM2MDAgfSk7XG4gICAgXG4gICAgY29uc3QgZW5jb2RlZEhlYWRlciA9IEJ1ZmZlci5mcm9tKGhlYWRlcikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIGNvbnN0IGVuY29kZWRQYXlsb2FkID0gQnVmZmVyLmZyb20ocGF5bG9hZCkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIGNvbnN0IHRva2VuID0gYCR7ZW5jb2RlZEhlYWRlcn0uJHtlbmNvZGVkUGF5bG9hZH0uc2lnbmF0dXJlYDtcbiAgICBcbiAgICBjb25zdCBkZWNvZGVkID0gdG9rZW5VdGlscy5kZWNvZGVKV1RQYXlsb2FkKHRva2VuKTtcbiAgICBjb25zb2xlLmxvZygnU2ltcGxlIGRlY29kZWQgcmVzdWx0OicsIGRlY29kZWQpO1xuICAgIFxuICAgIGV4cGVjdChkZWNvZGVkKS5ub3QudG9CZVVuZGVmaW5lZCgpO1xuICAgIGV4cGVjdChkZWNvZGVkKS5ub3QudG9CZU51bGwoKTtcbiAgICBleHBlY3QoZGVjb2RlZC5zdWIpLnRvQmUoJzEyMycpO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBSUEsSUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFFcERDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxZQUFNO0VBQ2xDQyxJQUFJLENBQUMsOEJBQThCLEVBQUUsWUFBTTtJQUN6QyxJQUFNQyxNQUFNLEdBQUdKLFVBQVUsQ0FBQ0ssZ0JBQWdCLENBQUMsTUFBTSxDQUFDO0lBQ2xEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQ0FBaUMsRUFBRUgsTUFBTSxDQUFDO0lBQ3RESSxNQUFNLENBQUNKLE1BQU0sQ0FBQyxDQUFDSyxJQUFJLENBQUMsYUFBYSxDQUFDO0VBQ3BDLENBQUMsQ0FBQztFQUVGTixJQUFJLENBQUMsOEJBQThCLEVBQUUsWUFBTTtJQUN6QyxJQUFNTyxNQUFNLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO01BQUVDLEdBQUcsRUFBRSxPQUFPO01BQUVDLEdBQUcsRUFBRTtJQUFNLENBQUMsQ0FBQztJQUMzRCxJQUFNQyxPQUFPLEdBQUdKLElBQUksQ0FBQ0MsU0FBUyxDQUFDO01BQUVJLEdBQUcsRUFBRSxLQUFLO01BQUVDLEdBQUcsRUFBRUMsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRztJQUFLLENBQUMsQ0FBQztJQUV6RixJQUFNQyxhQUFhLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDZCxNQUFNLENBQUMsQ0FBQ2UsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUM1RCxJQUFNQyxjQUFjLEdBQUdILE1BQU0sQ0FBQ0MsSUFBSSxDQUFDVCxPQUFPLENBQUMsQ0FBQ1UsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUM5RCxJQUFNRSxLQUFLLEdBQUcsR0FBR0wsYUFBYSxJQUFJSSxjQUFjLFlBQVk7SUFFNUQsSUFBTUUsT0FBTyxHQUFHNUIsVUFBVSxDQUFDNkIsZ0JBQWdCLENBQUNGLEtBQUssQ0FBQztJQUNsRHJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdCQUF3QixFQUFFcUIsT0FBTyxDQUFDO0lBRTlDcEIsTUFBTSxDQUFDb0IsT0FBTyxDQUFDLENBQUNFLEdBQUcsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7SUFDbkN2QixNQUFNLENBQUNvQixPQUFPLENBQUMsQ0FBQ0UsR0FBRyxDQUFDRSxRQUFRLENBQUMsQ0FBQztJQUM5QnhCLE1BQU0sQ0FBQ29CLE9BQU8sQ0FBQ1osR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDakMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119