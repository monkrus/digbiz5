{"version":3,"names":["_react","_interopRequireWildcard","require","React","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_callSuper","_getPrototypeOf2","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","mockComponent","moduleName","instanceMethods","isESModule","_ref","_RealComponent$displa","_RealComponent$render","_Class","RealComponent","jest","requireActual","SuperClass","Component","name","displayName","render","nameWithoutPrefix","replace","_SuperClass","_classCallCheck2","arguments","_inherits2","_createClass2","key","value","_this","props","assign","defaultProps","keys","forEach","prop","undefined","createElement","children","writable","enumerable","configurable","classStatic"],"sources":["mockComponent.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\nimport * as React from 'react';\nimport {createElement} from 'react';\n\ntype Modulish<T> = T | $ReadOnly<{default: T}>;\ntype ModuleDefault<T> = T['default'];\n\ntype TComponentType = React.ComponentType<{...}>;\n\n/**\n * WARNING: The `moduleName` must be relative to this file's directory, which is\n * a major footgun. Be careful when using this function!\n */\nexport default function mockComponent<\n  TComponentModule: Modulish<TComponentType>,\n>(\n  moduleName: string,\n  instanceMethods: ?interface {},\n  isESModule: boolean,\n): typeof isESModule extends true\n  ? ModuleDefault<TComponentModule & typeof instanceMethods>\n  : TComponentModule & typeof instanceMethods {\n  const RealComponent: TComponentType = isESModule\n    ? // $FlowIgnore[prop-missing]\n      jest.requireActual<TComponentModule>(moduleName).default\n    : // $FlowIgnore[incompatible-type]\n      jest.requireActual<TComponentModule>(moduleName);\n\n  const SuperClass: typeof React.Component<\n    React.ElementProps<typeof RealComponent>,\n  > =\n    typeof RealComponent === 'function' &&\n    RealComponent.prototype.constructor instanceof React.Component\n      ? RealComponent\n      : React.Component;\n\n  const name =\n    RealComponent.displayName ??\n    RealComponent.name ??\n    // $FlowFixMe[prop-missing] - Checking for `forwardRef` values.\n    (RealComponent.render == null\n      ? 'Unknown'\n      : // $FlowFixMe[incompatible-use]\n        RealComponent.render.displayName ?? RealComponent.render.name);\n\n  const nameWithoutPrefix = name.replace(/^(RCT|RK)/, '');\n\n  const Component = class extends SuperClass {\n    static displayName: ?string = 'Component';\n\n    render(): React.Node {\n      // $FlowIgnore[prop-missing]\n      const props = {...RealComponent.defaultProps};\n\n      if (this.props) {\n        Object.keys(this.props).forEach(prop => {\n          // We can't just assign props on top of defaultProps\n          // because React treats undefined as special and different from null.\n          // If a prop is specified but set to undefined it is ignored and the\n          // default prop is used instead. If it is set to null, then the\n          // null value overwrites the default value.\n          if (this.props[prop] !== undefined) {\n            props[prop] = this.props[prop];\n          }\n        });\n      }\n\n      // $FlowIgnore[not-a-function]\n      // $FlowIgnore[prop-missing]\n      return createElement(nameWithoutPrefix, props, this.props.children);\n    }\n  };\n\n  Object.defineProperty(Component, 'name', {\n    value: name,\n    writable: false,\n    enumerable: false,\n    configurable: true,\n  });\n\n  Component.displayName = nameWithoutPrefix;\n\n  // $FlowIgnore[not-an-object]\n  Object.keys(RealComponent).forEach(classStatic => {\n    Component[classStatic] = RealComponent[classStatic];\n  });\n\n  if (instanceMethods != null) {\n    // $FlowIgnore[unsafe-object-assign]\n    Object.assign(Component.prototype, instanceMethods);\n  }\n\n  // $FlowIgnore[incompatible-return]\n  return Component;\n}\n"],"mappings":"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","ignoreList":[]}