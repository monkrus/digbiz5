20d62e5822506da7c2c55f89c4ccffb7
_getJestObj().mock('../../src/services/contactDatabaseService');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _contactManagementService = require("../../src/services/contactManagementService");
var _contactDatabaseService = require("../../src/services/contactDatabaseService");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var createMockContact = function createMockContact(overrides) {
  return Object.assign({
    id: `contact-${Math.random().toString(36).substr(2, 9)}`,
    fields: [{
      id: 'field-name',
      type: 'name',
      label: 'Full Name',
      value: 'John Doe',
      isEditable: true,
      confidence: 0.9
    }, {
      id: 'field-email',
      type: 'email',
      label: 'Email',
      value: 'john@example.com',
      isEditable: true,
      confidence: 0.8
    }, {
      id: 'field-phone',
      type: 'phone',
      label: 'Phone',
      value: '+1-555-0123',
      isEditable: true,
      confidence: 0.85
    }],
    source: 'manual',
    confidence: 0.85,
    createdAt: '2024-01-01T00:00:00.000Z',
    updatedAt: '2024-01-01T00:00:00.000Z',
    tags: ['business'],
    isVerified: true,
    needsReview: false,
    isFavorite: false
  }, overrides);
};
describe('ContactManagementService - Search Performance', function () {
  var mockDb = _contactDatabaseService.contactDatabaseService;
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('Search Algorithm Performance', function () {
    it('should perform simple text search efficiently', (0, _asyncToGenerator2.default)(function* () {
      var mockContacts = Array.from({
        length: 10000
      }, function (_, i) {
        return createMockContact({
          id: `contact-${i}`,
          fields: [{
            id: `name-${i}`,
            type: 'name',
            label: 'Name',
            value: `User ${i}`,
            isEditable: true
          }]
        });
      });
      var matchingContacts = mockContacts.filter(function (_, i) {
        return i % 100 === 0;
      });
      mockDb.searchContacts.mockResolvedValue({
        contacts: matchingContacts,
        totalCount: matchingContacts.length,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      var startTime = Date.now();
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'User'
      });
      var searchTime = Date.now() - startTime;
      expect(result.contacts).toHaveLength(100);
      expect(searchTime).toBeLessThan(1000);
      expect(mockDb.searchContacts).toHaveBeenCalledWith({
        query: 'User'
      });
    }));
    it('should handle complex multi-field search efficiently', (0, _asyncToGenerator2.default)(function* () {
      var complexFilters = {
        query: 'John',
        tags: ['business', 'client'],
        isVerified: true,
        hasNotes: true,
        dateRange: {
          start: '2024-01-01T00:00:00.000Z',
          end: '2024-12-31T23:59:59.999Z',
          field: 'createdAt'
        },
        confidenceRange: {
          min: 0.8,
          max: 1.0
        }
      };
      mockDb.searchContacts.mockResolvedValue({
        contacts: [createMockContact()],
        totalCount: 1,
        facets: {
          tags: [{
            name: 'business',
            count: 5
          }, {
            name: 'client',
            count: 3
          }],
          categories: [],
          sources: [{
            source: 'manual',
            count: 8
          }]
        }
      });
      var startTime = Date.now();
      var result = yield _contactManagementService.contactManagementService.searchContacts(complexFilters);
      var searchTime = Date.now() - startTime;
      expect(result.contacts).toHaveLength(1);
      expect(searchTime).toBeLessThan(2000);
      expect(mockDb.searchContacts).toHaveBeenCalledWith(complexFilters);
    }));
    it('should optimize fuzzy search performance', (0, _asyncToGenerator2.default)(function* () {
      var fuzzyMatches = Array.from({
        length: 50
      }, function (_, i) {
        return createMockContact({
          id: `fuzzy-${i}`,
          fields: [{
            id: `name-${i}`,
            type: 'name',
            label: 'Name',
            value: `Johnathan Smith ${i}`,
            isEditable: true
          }]
        });
      });
      mockDb.searchContacts.mockResolvedValue({
        contacts: fuzzyMatches,
        totalCount: fuzzyMatches.length,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      var startTime = Date.now();
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'Jon Smth'
      });
      var searchTime = Date.now() - startTime;
      expect(result.contacts.length).toBeGreaterThan(0);
      expect(searchTime).toBeLessThan(1500);
    }));
    it('should handle pagination efficiently for large result sets', (0, _asyncToGenerator2.default)(function* () {
      var totalContacts = 5000;
      var pageSize = 50;
      var _loop = function* _loop(page) {
        var pageContacts = Array.from({
          length: pageSize
        }, function (_, i) {
          return createMockContact({
            id: `page-${page}-contact-${i}`
          });
        });
        mockDb.searchContacts.mockResolvedValueOnce({
          contacts: pageContacts,
          totalCount: totalContacts,
          facets: {
            tags: [],
            categories: [],
            sources: []
          }
        });
        var startTime = Date.now();
        var result = yield _contactManagementService.contactManagementService.searchContacts({
          query: 'User'
        });
        var pageTime = Date.now() - startTime;
        expect(result.contacts).toHaveLength(pageSize);
        expect(result.totalCount).toBe(totalContacts);
        expect(pageTime).toBeLessThan(500);
      };
      for (var page = 0; page < 10; page++) {
        yield* _loop(page);
      }
    }));
    it('should cache frequent searches for better performance', (0, _asyncToGenerator2.default)(function* () {
      var searchQuery = {
        query: 'Popular Search'
      };
      var mockResult = {
        contacts: [createMockContact()],
        totalCount: 1,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      };
      mockDb.searchContacts.mockResolvedValue(mockResult);
      var startTime1 = Date.now();
      yield _contactManagementService.contactManagementService.searchContacts(searchQuery);
      var firstSearchTime = Date.now() - startTime1;
      var startTime2 = Date.now();
      yield _contactManagementService.contactManagementService.searchContacts(searchQuery);
      var secondSearchTime = Date.now() - startTime2;
      expect(mockDb.searchContacts).toHaveBeenCalledTimes(2);
    }));
  });
  describe('Advanced Search Features', function () {
    it('should perform field-specific searches', (0, _asyncToGenerator2.default)(function* () {
      var emailSearchContacts = [createMockContact({
        fields: [{
          id: 'e1',
          type: 'email',
          label: 'Email',
          value: 'john@acme.com',
          isEditable: true
        }]
      })];
      mockDb.searchContacts.mockResolvedValue({
        contacts: emailSearchContacts,
        totalCount: 1,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'acme.com'
      });
      expect(result.contacts).toHaveLength(1);
      expect(mockDb.searchContacts).toHaveBeenCalledWith({
        query: 'acme.com'
      });
    }));
    it('should support wildcard and regex patterns', (0, _asyncToGenerator2.default)(function* () {
      var patternMatches = [createMockContact({
        fields: [{
          id: 'p1',
          type: 'phone',
          label: 'Phone',
          value: '+1-555-0123',
          isEditable: true
        }, {
          id: 'p2',
          type: 'phone',
          label: 'Phone',
          value: '+1-555-0456',
          isEditable: true
        }]
      })];
      mockDb.searchContacts.mockResolvedValue({
        contacts: patternMatches,
        totalCount: patternMatches.length,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: '+1-555-*'
      });
      expect(result.contacts.length).toBeGreaterThan(0);
    }));
    it('should rank search results by relevance', (0, _asyncToGenerator2.default)(function* () {
      var rankedContacts = [createMockContact({
        id: 'exact-match',
        fields: [{
          id: 'n1',
          type: 'name',
          label: 'Name',
          value: 'John Smith',
          isEditable: true
        }],
        confidence: 1.0
      }), createMockContact({
        id: 'partial-match',
        fields: [{
          id: 'n2',
          type: 'name',
          label: 'Name',
          value: 'John Doe',
          isEditable: true
        }],
        confidence: 0.8
      }), createMockContact({
        id: 'fuzzy-match',
        fields: [{
          id: 'n3',
          type: 'name',
          label: 'Name',
          value: 'Jonathan Smith',
          isEditable: true
        }],
        confidence: 0.6
      })];
      mockDb.searchContacts.mockResolvedValue({
        contacts: rankedContacts,
        totalCount: rankedContacts.length,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'John Smith'
      });
      expect(result.contacts).toHaveLength(3);
      expect(result.contacts[0].id).toBe('exact-match');
    }));
  });
  describe('Search Analytics and Metrics', function () {
    it('should track search performance metrics', (0, _asyncToGenerator2.default)(function* () {
      var largeMockResult = {
        contacts: Array.from({
          length: 1000
        }, function (_, i) {
          return createMockContact({
            id: `metric-${i}`
          });
        }),
        totalCount: 1000,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      };
      mockDb.searchContacts.mockResolvedValue(largeMockResult);
      var startTime = Date.now();
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'performance test'
      });
      var endTime = Date.now();
      var searchDuration = endTime - startTime;
      expect(result.contacts).toHaveLength(1000);
      expect(searchDuration).toBeDefined();
      expect(searchDuration).toBeGreaterThan(0);
      var metrics = {
        searchQuery: 'performance test',
        resultCount: result.totalCount,
        duration: searchDuration,
        timestamp: new Date().toISOString()
      };
      expect(metrics.resultCount).toBe(1000);
      expect(metrics.duration).toBeLessThan(3000);
    }));
    it('should provide search suggestions based on history', (0, _asyncToGenerator2.default)(function* () {
      var searchHistory = ['John Smith', 'john@example.com', 'Acme Corp', 'business contact'];
      var suggestions = searchHistory.filter(function (term) {
        return term.toLowerCase().includes('john');
      });
      expect(suggestions).toContain('John Smith');
      expect(suggestions).toContain('john@example.com');
      expect(suggestions).toHaveLength(2);
    }));
  });
  describe('Search Error Handling', function () {
    it('should handle database errors gracefully', (0, _asyncToGenerator2.default)(function* () {
      mockDb.searchContacts.mockRejectedValue(new Error('Database connection failed'));
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'test'
      });
      expect(result.contacts).toHaveLength(0);
      expect(result.totalCount).toBe(0);
    }));
    it('should handle malformed search queries', (0, _asyncToGenerator2.default)(function* () {
      var malformedQueries = ['', '   ', 'a'.repeat(1000), 'special chars: !@#$%^&*()'];
      for (var query of malformedQueries) {
        mockDb.searchContacts.mockResolvedValue({
          contacts: [],
          totalCount: 0,
          facets: {
            tags: [],
            categories: [],
            sources: []
          }
        });
        var result = yield _contactManagementService.contactManagementService.searchContacts({
          query: query
        });
        expect(result).toBeDefined();
        expect(Array.isArray(result.contacts)).toBe(true);
      }
    }));
    it('should timeout long-running searches', (0, _asyncToGenerator2.default)(function* () {
      mockDb.searchContacts.mockImplementation(function () {
        return new Promise(function (resolve) {
          return setTimeout(function () {
            return resolve({
              contacts: [],
              totalCount: 0,
              facets: {
                tags: [],
                categories: [],
                sources: []
              }
            });
          }, 10000);
        });
      });
      var startTime = Date.now();
      var result = yield _contactManagementService.contactManagementService.searchContacts({
        query: 'timeout test'
      });
      var searchTime = Date.now() - startTime;
      expect(searchTime).toBeLessThan(5000);
      expect(result.contacts).toHaveLength(0);
    }));
  });
  describe('Load Testing', function () {
    it('should handle concurrent search requests', (0, _asyncToGenerator2.default)(function* () {
      var concurrentSearches = 20;
      var searchPromises = [];
      mockDb.searchContacts.mockResolvedValue({
        contacts: [createMockContact()],
        totalCount: 1,
        facets: {
          tags: [],
          categories: [],
          sources: []
        }
      });
      for (var i = 0; i < concurrentSearches; i++) {
        searchPromises.push(_contactManagementService.contactManagementService.searchContacts({
          query: `concurrent search ${i}`
        }));
      }
      var startTime = Date.now();
      var results = yield Promise.all(searchPromises);
      var totalTime = Date.now() - startTime;
      expect(results).toHaveLength(concurrentSearches);
      expect(results.every(function (r) {
        return r.contacts.length === 1;
      })).toBe(true);
      expect(totalTime).toBeLessThan(5000);
    }));
    it('should maintain performance under memory pressure', (0, _asyncToGenerator2.default)(function* () {
      var largeDataSets = [];
      var _loop2 = function* _loop2(i) {
        var largeDataSet = Array.from({
          length: 1000
        }, function (_, j) {
          return createMockContact({
            id: `memory-test-${i}-${j}`
          });
        });
        largeDataSets.push(largeDataSet);
        mockDb.searchContacts.mockResolvedValueOnce({
          contacts: largeDataSet.slice(0, 50),
          totalCount: largeDataSet.length,
          facets: {
            tags: [],
            categories: [],
            sources: []
          }
        });
        var startTime = Date.now();
        var result = yield _contactManagementService.contactManagementService.searchContacts({
          query: `memory test ${i}`
        });
        var searchTime = Date.now() - startTime;
        expect(result.contacts).toHaveLength(50);
        expect(searchTime).toBeLessThan(2000);
      };
      for (var i = 0; i < 10; i++) {
        yield* _loop2(i);
      }
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9jb250YWN0TWFuYWdlbWVudFNlcnZpY2UiLCJfY29udGFjdERhdGFiYXNlU2VydmljZSIsIl9yZXF1aXJlIiwiamVzdCIsImNyZWF0ZU1vY2tDb250YWN0Iiwib3ZlcnJpZGVzIiwiT2JqZWN0IiwiYXNzaWduIiwiaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJmaWVsZHMiLCJ0eXBlIiwibGFiZWwiLCJ2YWx1ZSIsImlzRWRpdGFibGUiLCJjb25maWRlbmNlIiwic291cmNlIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwidGFncyIsImlzVmVyaWZpZWQiLCJuZWVkc1JldmlldyIsImlzRmF2b3JpdGUiLCJkZXNjcmliZSIsIm1vY2tEYiIsImNvbnRhY3REYXRhYmFzZVNlcnZpY2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsIm1vY2tDb250YWN0cyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwibWF0Y2hpbmdDb250YWN0cyIsImZpbHRlciIsInNlYXJjaENvbnRhY3RzIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJjb250YWN0cyIsInRvdGFsQ291bnQiLCJmYWNldHMiLCJjYXRlZ29yaWVzIiwic291cmNlcyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZXN1bHQiLCJjb250YWN0TWFuYWdlbWVudFNlcnZpY2UiLCJxdWVyeSIsInNlYXJjaFRpbWUiLCJleHBlY3QiLCJ0b0hhdmVMZW5ndGgiLCJ0b0JlTGVzc1RoYW4iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImNvbXBsZXhGaWx0ZXJzIiwiaGFzTm90ZXMiLCJkYXRlUmFuZ2UiLCJzdGFydCIsImVuZCIsImZpZWxkIiwiY29uZmlkZW5jZVJhbmdlIiwibWluIiwibWF4IiwibmFtZSIsImNvdW50IiwiZnV6enlNYXRjaGVzIiwidG9CZUdyZWF0ZXJUaGFuIiwidG90YWxDb250YWN0cyIsInBhZ2VTaXplIiwiX2xvb3AiLCJwYWdlIiwicGFnZUNvbnRhY3RzIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwicGFnZVRpbWUiLCJ0b0JlIiwic2VhcmNoUXVlcnkiLCJtb2NrUmVzdWx0Iiwic3RhcnRUaW1lMSIsImZpcnN0U2VhcmNoVGltZSIsInN0YXJ0VGltZTIiLCJzZWNvbmRTZWFyY2hUaW1lIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiZW1haWxTZWFyY2hDb250YWN0cyIsInBhdHRlcm5NYXRjaGVzIiwicmFua2VkQ29udGFjdHMiLCJsYXJnZU1vY2tSZXN1bHQiLCJlbmRUaW1lIiwic2VhcmNoRHVyYXRpb24iLCJ0b0JlRGVmaW5lZCIsIm1ldHJpY3MiLCJyZXN1bHRDb3VudCIsImR1cmF0aW9uIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJzZWFyY2hIaXN0b3J5Iiwic3VnZ2VzdGlvbnMiLCJ0ZXJtIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInRvQ29udGFpbiIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJtYWxmb3JtZWRRdWVyaWVzIiwicmVwZWF0IiwiaXNBcnJheSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNvbmN1cnJlbnRTZWFyY2hlcyIsInNlYXJjaFByb21pc2VzIiwicHVzaCIsInJlc3VsdHMiLCJhbGwiLCJ0b3RhbFRpbWUiLCJldmVyeSIsInIiLCJsYXJnZURhdGFTZXRzIiwiX2xvb3AyIiwibGFyZ2VEYXRhU2V0IiwiaiIsInNsaWNlIl0sInNvdXJjZXMiOlsic2VhcmNoUGVyZm9ybWFuY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRhY3QgTWFuYWdlbWVudCBTZXJ2aWNlIFRlc3RzXG4gKiBcbiAqIFRlc3RzIGZvciBzZWFyY2ggYWxnb3JpdGhtIHBlcmZvcm1hbmNlIGFuZCBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG5pbXBvcnQgeyBjb250YWN0TWFuYWdlbWVudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlJztcbmltcG9ydCB7IGNvbnRhY3REYXRhYmFzZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvY29udGFjdERhdGFiYXNlU2VydmljZSc7XG5pbXBvcnQgeyBDb250YWN0LCBDb250YWN0U2VhcmNoRmlsdGVycyB9IGZyb20gJy4uLy4uL3NyYy90eXBlcy9jb250YWN0cyc7XG5cbi8vIE1vY2sgdGhlIGRhdGFiYXNlIHNlcnZpY2Vcbmplc3QubW9jaygnLi4vLi4vc3JjL3NlcnZpY2VzL2NvbnRhY3REYXRhYmFzZVNlcnZpY2UnKTtcblxuLy8gTW9jayBkYXRhIGhlbHBlcnNcbmNvbnN0IGNyZWF0ZU1vY2tDb250YWN0ID0gKG92ZXJyaWRlcz86IFBhcnRpYWw8Q29udGFjdD4pOiBDb250YWN0ID0+ICh7XG4gIGlkOiBgY29udGFjdC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBpZDogJ2ZpZWxkLW5hbWUnLFxuICAgICAgdHlwZTogJ25hbWUnLFxuICAgICAgbGFiZWw6ICdGdWxsIE5hbWUnLFxuICAgICAgdmFsdWU6ICdKb2huIERvZScsXG4gICAgICBpc0VkaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdmaWVsZC1lbWFpbCcsXG4gICAgICB0eXBlOiAnZW1haWwnLFxuICAgICAgbGFiZWw6ICdFbWFpbCcsXG4gICAgICB2YWx1ZTogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgaXNFZGl0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnZmllbGQtcGhvbmUnLFxuICAgICAgdHlwZTogJ3Bob25lJyxcbiAgICAgIGxhYmVsOiAnUGhvbmUnLFxuICAgICAgdmFsdWU6ICcrMS01NTUtMDEyMycsXG4gICAgICBpc0VkaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlkZW5jZTogMC44NSxcbiAgICB9LFxuICBdLFxuICBzb3VyY2U6ICdtYW51YWwnLFxuICBjb25maWRlbmNlOiAwLjg1LFxuICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICB0YWdzOiBbJ2J1c2luZXNzJ10sXG4gIGlzVmVyaWZpZWQ6IHRydWUsXG4gIG5lZWRzUmV2aWV3OiBmYWxzZSxcbiAgaXNGYXZvcml0ZTogZmFsc2UsXG4gIC4uLm92ZXJyaWRlcyxcbn0pO1xuXG5kZXNjcmliZSgnQ29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlIC0gU2VhcmNoIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICBjb25zdCBtb2NrRGIgPSBjb250YWN0RGF0YWJhc2VTZXJ2aWNlIGFzIGplc3QuTW9ja2VkPHR5cGVvZiBjb250YWN0RGF0YWJhc2VTZXJ2aWNlPjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlYXJjaCBBbGdvcml0aG0gUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwZXJmb3JtIHNpbXBsZSB0ZXh0IHNlYXJjaCBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbGFyZ2UgZGF0YXNldFxuICAgICAgY29uc3QgbW9ja0NvbnRhY3RzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMDAgfSwgKF8sIGkpID0+IFxuICAgICAgICBjcmVhdGVNb2NrQ29udGFjdCh7XG4gICAgICAgICAgaWQ6IGBjb250YWN0LSR7aX1gLFxuICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogYG5hbWUtJHtpfWAsXG4gICAgICAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgICAgICAgbGFiZWw6ICdOYW1lJyxcbiAgICAgICAgICAgICAgdmFsdWU6IGBVc2VyICR7aX1gLFxuICAgICAgICAgICAgICBpc0VkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgY29uc3QgbWF0Y2hpbmdDb250YWN0cyA9IG1vY2tDb250YWN0cy5maWx0ZXIoKF8sIGkpID0+IGkgJSAxMDAgPT09IDApOyAvLyAxMDAgbWF0Y2hlc1xuICAgICAgXG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjb250YWN0czogbWF0Y2hpbmdDb250YWN0cyxcbiAgICAgICAgdG90YWxDb3VudDogbWF0Y2hpbmdDb250YWN0cy5sZW5ndGgsXG4gICAgICAgIGZhY2V0czoge1xuICAgICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRhY3RNYW5hZ2VtZW50U2VydmljZS5zZWFyY2hDb250YWN0cyh7XG4gICAgICAgIHF1ZXJ5OiAnVXNlcicsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2VhcmNoVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udGFjdHMpLnRvSGF2ZUxlbmd0aCgxMDApO1xuICAgICAgZXhwZWN0KHNlYXJjaFRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiAxIHNlY29uZFxuICAgICAgZXhwZWN0KG1vY2tEYi5zZWFyY2hDb250YWN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBxdWVyeTogJ1VzZXInIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxleCBtdWx0aS1maWVsZCBzZWFyY2ggZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wbGV4RmlsdGVyczogQ29udGFjdFNlYXJjaEZpbHRlcnMgPSB7XG4gICAgICAgIHF1ZXJ5OiAnSm9obicsXG4gICAgICAgIHRhZ3M6IFsnYnVzaW5lc3MnLCAnY2xpZW50J10sXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIGhhc05vdGVzOiB0cnVlLFxuICAgICAgICBkYXRlUmFuZ2U6IHtcbiAgICAgICAgICBzdGFydDogJzIwMjQtMDEtMDFUMDA6MDA6MDAuMDAwWicsXG4gICAgICAgICAgZW5kOiAnMjAyNC0xMi0zMVQyMzo1OTo1OS45OTlaJyxcbiAgICAgICAgICBmaWVsZDogJ2NyZWF0ZWRBdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZGVuY2VSYW5nZToge1xuICAgICAgICAgIG1pbjogMC44LFxuICAgICAgICAgIG1heDogMS4wLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja0RiLnNlYXJjaENvbnRhY3RzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY29udGFjdHM6IFtjcmVhdGVNb2NrQ29udGFjdCgpXSxcbiAgICAgICAgdG90YWxDb3VudDogMSxcbiAgICAgICAgZmFjZXRzOiB7XG4gICAgICAgICAgdGFnczogW3sgbmFtZTogJ2J1c2luZXNzJywgY291bnQ6IDUgfSwgeyBuYW1lOiAnY2xpZW50JywgY291bnQ6IDMgfV0sXG4gICAgICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICAgICAgc291cmNlczogW3sgc291cmNlOiAnbWFudWFsJywgY291bnQ6IDggfV0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKGNvbXBsZXhGaWx0ZXJzKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2VhcmNoVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udGFjdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChzZWFyY2hUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIENvbXBsZXggc2VhcmNoIHdpdGhpbiAyIHNlY29uZHNcbiAgICAgIGV4cGVjdChtb2NrRGIuc2VhcmNoQ29udGFjdHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGNvbXBsZXhGaWx0ZXJzKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgb3B0aW1pemUgZnV6enkgc2VhcmNoIHBlcmZvcm1hbmNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZnV6enlNYXRjaGVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNTAgfSwgKF8sIGkpID0+IFxuICAgICAgICBjcmVhdGVNb2NrQ29udGFjdCh7XG4gICAgICAgICAgaWQ6IGBmdXp6eS0ke2l9YCxcbiAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IGBuYW1lLSR7aX1gLFxuICAgICAgICAgICAgICB0eXBlOiAnbmFtZScsXG4gICAgICAgICAgICAgIGxhYmVsOiAnTmFtZScsXG4gICAgICAgICAgICAgIHZhbHVlOiBgSm9obmF0aGFuIFNtaXRoICR7aX1gLCAvLyBTaW1pbGFyIHRvIFwiSm9obiBTbWl0aFwiXG4gICAgICAgICAgICAgIGlzRWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjb250YWN0czogZnV6enlNYXRjaGVzLFxuICAgICAgICB0b3RhbENvdW50OiBmdXp6eU1hdGNoZXMubGVuZ3RoLFxuICAgICAgICBmYWNldHM6IHsgdGFnczogW10sIGNhdGVnb3JpZXM6IFtdLCBzb3VyY2VzOiBbXSB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRhY3RNYW5hZ2VtZW50U2VydmljZS5zZWFyY2hDb250YWN0cyh7XG4gICAgICAgIHF1ZXJ5OiAnSm9uIFNtdGgnLCAvLyBUeXBvc1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRhY3RzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHNlYXJjaFRpbWUpLnRvQmVMZXNzVGhhbigxNTAwKTsgLy8gRnV6enkgc2VhcmNoIHdpdGhpbiAxLjUgc2Vjb25kc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBlZmZpY2llbnRseSBmb3IgbGFyZ2UgcmVzdWx0IHNldHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0b3RhbENvbnRhY3RzID0gNTAwMDtcbiAgICAgIGNvbnN0IHBhZ2VTaXplID0gNTA7XG4gICAgICBcbiAgICAgIGZvciAobGV0IHBhZ2UgPSAwOyBwYWdlIDwgMTA7IHBhZ2UrKykge1xuICAgICAgICBjb25zdCBwYWdlQ29udGFjdHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBwYWdlU2l6ZSB9LCAoXywgaSkgPT4gXG4gICAgICAgICAgY3JlYXRlTW9ja0NvbnRhY3QoeyBpZDogYHBhZ2UtJHtwYWdlfS1jb250YWN0LSR7aX1gIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgbW9ja0RiLnNlYXJjaENvbnRhY3RzLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgY29udGFjdHM6IHBhZ2VDb250YWN0cyxcbiAgICAgICAgICB0b3RhbENvdW50OiB0b3RhbENvbnRhY3RzLFxuICAgICAgICAgIGZhY2V0czogeyB0YWdzOiBbXSwgY2F0ZWdvcmllczogW10sIHNvdXJjZXM6IFtdIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250YWN0TWFuYWdlbWVudFNlcnZpY2Uuc2VhcmNoQ29udGFjdHMoe1xuICAgICAgICAgIHF1ZXJ5OiAnVXNlcicsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFnZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb250YWN0cykudG9IYXZlTGVuZ3RoKHBhZ2VTaXplKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbENvdW50KS50b0JlKHRvdGFsQ29udGFjdHMpO1xuICAgICAgICBleHBlY3QocGFnZVRpbWUpLnRvQmVMZXNzVGhhbig1MDApOyAvLyBFYWNoIHBhZ2Ugd2l0aGluIDUwMG1zXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhY2hlIGZyZXF1ZW50IHNlYXJjaGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHsgcXVlcnk6ICdQb3B1bGFyIFNlYXJjaCcgfTtcbiAgICAgIGNvbnN0IG1vY2tSZXN1bHQgPSB7XG4gICAgICAgIGNvbnRhY3RzOiBbY3JlYXRlTW9ja0NvbnRhY3QoKV0sXG4gICAgICAgIHRvdGFsQ291bnQ6IDEsXG4gICAgICAgIGZhY2V0czogeyB0YWdzOiBbXSwgY2F0ZWdvcmllczogW10sIHNvdXJjZXM6IFtdIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Jlc3VsdCk7XG5cbiAgICAgIC8vIEZpcnN0IHNlYXJjaFxuICAgICAgY29uc3Qgc3RhcnRUaW1lMSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBjb250YWN0TWFuYWdlbWVudFNlcnZpY2Uuc2VhcmNoQ29udGFjdHMoc2VhcmNoUXVlcnkpO1xuICAgICAgY29uc3QgZmlyc3RTZWFyY2hUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTE7XG5cbiAgICAgIC8vIFNlY29uZCBzZWFyY2ggKHNob3VsZCBiZSBmYXN0ZXIgZHVlIHRvIGNhY2hpbmcpXG4gICAgICBjb25zdCBzdGFydFRpbWUyID0gRGF0ZS5ub3coKTtcbiAgICAgIGF3YWl0IGNvbnRhY3RNYW5hZ2VtZW50U2VydmljZS5zZWFyY2hDb250YWN0cyhzZWFyY2hRdWVyeSk7XG4gICAgICBjb25zdCBzZWNvbmRTZWFyY2hUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTI7XG5cbiAgICAgIC8vIFZlcmlmeSBkYXRhYmFzZSB3YXMgY2FsbGVkIG9ubHkgb25jZSAoY2FjaGVkIG9uIHNlY29uZCBjYWxsKVxuICAgICAgZXhwZWN0KG1vY2tEYi5zZWFyY2hDb250YWN0cykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgICAgLy8gTm90ZTogSW4gYSByZWFsIGltcGxlbWVudGF0aW9uIHdpdGggY2FjaGluZywgc2Vjb25kU2VhcmNoVGltZSB3b3VsZCBiZSBzaWduaWZpY2FudGx5IGxlc3NcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FkdmFuY2VkIFNlYXJjaCBGZWF0dXJlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBlcmZvcm0gZmllbGQtc3BlY2lmaWMgc2VhcmNoZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbWFpbFNlYXJjaENvbnRhY3RzID0gW1xuICAgICAgICBjcmVhdGVNb2NrQ29udGFjdCh7XG4gICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICB7IGlkOiAnZTEnLCB0eXBlOiAnZW1haWwnLCBsYWJlbDogJ0VtYWlsJywgdmFsdWU6ICdqb2huQGFjbWUuY29tJywgaXNFZGl0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgXTtcblxuICAgICAgbW9ja0RiLnNlYXJjaENvbnRhY3RzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY29udGFjdHM6IGVtYWlsU2VhcmNoQ29udGFjdHMsXG4gICAgICAgIHRvdGFsQ291bnQ6IDEsXG4gICAgICAgIGZhY2V0czogeyB0YWdzOiBbXSwgY2F0ZWdvcmllczogW10sIHNvdXJjZXM6IFtdIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHtcbiAgICAgICAgcXVlcnk6ICdhY21lLmNvbScsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250YWN0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KG1vY2tEYi5zZWFyY2hDb250YWN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBxdWVyeTogJ2FjbWUuY29tJyB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCB3aWxkY2FyZCBhbmQgcmVnZXggcGF0dGVybnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXR0ZXJuTWF0Y2hlcyA9IFtcbiAgICAgICAgY3JlYXRlTW9ja0NvbnRhY3Qoe1xuICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgeyBpZDogJ3AxJywgdHlwZTogJ3Bob25lJywgbGFiZWw6ICdQaG9uZScsIHZhbHVlOiAnKzEtNTU1LTAxMjMnLCBpc0VkaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICB7IGlkOiAncDInLCB0eXBlOiAncGhvbmUnLCBsYWJlbDogJ1Bob25lJywgdmFsdWU6ICcrMS01NTUtMDQ1NicsIGlzRWRpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tEYi5zZWFyY2hDb250YWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGNvbnRhY3RzOiBwYXR0ZXJuTWF0Y2hlcyxcbiAgICAgICAgdG90YWxDb3VudDogcGF0dGVybk1hdGNoZXMubGVuZ3RoLFxuICAgICAgICBmYWNldHM6IHsgdGFnczogW10sIGNhdGVnb3JpZXM6IFtdLCBzb3VyY2VzOiBbXSB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRhY3RNYW5hZ2VtZW50U2VydmljZS5zZWFyY2hDb250YWN0cyh7XG4gICAgICAgIHF1ZXJ5OiAnKzEtNTU1LSonLCAvLyBXaWxkY2FyZCBwYXR0ZXJuXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250YWN0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmFuayBzZWFyY2ggcmVzdWx0cyBieSByZWxldmFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByYW5rZWRDb250YWN0cyA9IFtcbiAgICAgICAgY3JlYXRlTW9ja0NvbnRhY3Qoe1xuICAgICAgICAgIGlkOiAnZXhhY3QtbWF0Y2gnLFxuICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgeyBpZDogJ24xJywgdHlwZTogJ25hbWUnLCBsYWJlbDogJ05hbWUnLCB2YWx1ZTogJ0pvaG4gU21pdGgnLCBpc0VkaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25maWRlbmNlOiAxLjAsXG4gICAgICAgIH0pLFxuICAgICAgICBjcmVhdGVNb2NrQ29udGFjdCh7XG4gICAgICAgICAgaWQ6ICdwYXJ0aWFsLW1hdGNoJyxcbiAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgIHsgaWQ6ICduMicsIHR5cGU6ICduYW1lJywgbGFiZWw6ICdOYW1lJywgdmFsdWU6ICdKb2huIERvZScsIGlzRWRpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgICAgfSksXG4gICAgICAgIGNyZWF0ZU1vY2tDb250YWN0KHtcbiAgICAgICAgICBpZDogJ2Z1enp5LW1hdGNoJyxcbiAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgIHsgaWQ6ICduMycsIHR5cGU6ICduYW1lJywgbGFiZWw6ICdOYW1lJywgdmFsdWU6ICdKb25hdGhhbiBTbWl0aCcsIGlzRWRpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuNixcbiAgICAgICAgfSksXG4gICAgICBdO1xuXG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjb250YWN0czogcmFua2VkQ29udGFjdHMsXG4gICAgICAgIHRvdGFsQ291bnQ6IHJhbmtlZENvbnRhY3RzLmxlbmd0aCxcbiAgICAgICAgZmFjZXRzOiB7IHRhZ3M6IFtdLCBjYXRlZ29yaWVzOiBbXSwgc291cmNlczogW10gfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250YWN0TWFuYWdlbWVudFNlcnZpY2Uuc2VhcmNoQ29udGFjdHMoe1xuICAgICAgICBxdWVyeTogJ0pvaG4gU21pdGgnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY29udGFjdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgIC8vIFZlcmlmeSBjb250YWN0cyBhcmUgb3JkZXJlZCBieSByZWxldmFuY2UgKGV4YWN0IG1hdGNoIGZpcnN0KVxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250YWN0c1swXS5pZCkudG9CZSgnZXhhY3QtbWF0Y2gnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlYXJjaCBBbmFseXRpY3MgYW5kIE1ldHJpY3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmFjayBzZWFyY2ggcGVyZm9ybWFuY2UgbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlTW9ja1Jlc3VsdCA9IHtcbiAgICAgICAgY29udGFjdHM6IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+IGNyZWF0ZU1vY2tDb250YWN0KHsgaWQ6IGBtZXRyaWMtJHtpfWAgfSkpLFxuICAgICAgICB0b3RhbENvdW50OiAxMDAwLFxuICAgICAgICBmYWNldHM6IHsgdGFnczogW10sIGNhdGVnb3JpZXM6IFtdLCBzb3VyY2VzOiBbXSB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja0RiLnNlYXJjaENvbnRhY3RzLm1vY2tSZXNvbHZlZFZhbHVlKGxhcmdlTW9ja1Jlc3VsdCk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRhY3RNYW5hZ2VtZW50U2VydmljZS5zZWFyY2hDb250YWN0cyh7XG4gICAgICAgIHF1ZXJ5OiAncGVyZm9ybWFuY2UgdGVzdCcsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBzZWFyY2hEdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIFZlcmlmeSBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRhY3RzKS50b0hhdmVMZW5ndGgoMTAwMCk7XG4gICAgICBleHBlY3Qoc2VhcmNoRHVyYXRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc2VhcmNoRHVyYXRpb24pLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIFxuICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGVzZSBtZXRyaWNzIHdvdWxkIGJlIGxvZ2dlZFxuICAgICAgY29uc3QgbWV0cmljcyA9IHtcbiAgICAgICAgc2VhcmNoUXVlcnk6ICdwZXJmb3JtYW5jZSB0ZXN0JyxcbiAgICAgICAgcmVzdWx0Q291bnQ6IHJlc3VsdC50b3RhbENvdW50LFxuICAgICAgICBkdXJhdGlvbjogc2VhcmNoRHVyYXRpb24sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG1ldHJpY3MucmVzdWx0Q291bnQpLnRvQmUoMTAwMCk7XG4gICAgICBleHBlY3QobWV0cmljcy5kdXJhdGlvbikudG9CZUxlc3NUaGFuKDMwMDApOyAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDMgc2Vjb25kc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIHNlYXJjaCBzdWdnZXN0aW9ucyBiYXNlZCBvbiBoaXN0b3J5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzZWFyY2ggaGlzdG9yeSBkYXRhXG4gICAgICBjb25zdCBzZWFyY2hIaXN0b3J5ID0gW1xuICAgICAgICAnSm9obiBTbWl0aCcsXG4gICAgICAgICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICAgICAgJ0FjbWUgQ29ycCcsXG4gICAgICAgICdidXNpbmVzcyBjb250YWN0JyxcbiAgICAgIF07XG5cbiAgICAgIC8vIFNpbXVsYXRlIGdldHRpbmcgc3VnZ2VzdGlvbnNcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gc2VhcmNoSGlzdG9yeS5maWx0ZXIodGVybSA9PiBcbiAgICAgICAgdGVybS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdqb2huJylcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdKb2huIFNtaXRoJyk7XG4gICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignam9obkBleGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0hhdmVMZW5ndGgoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWFyY2ggRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHtcbiAgICAgICAgcXVlcnk6ICd0ZXN0JyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZXJ2aWNlIHNob3VsZCByZXR1cm4gZW1wdHkgcmVzdWx0cyBpbnN0ZWFkIG9mIHRocm93aW5nXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRhY3RzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsQ291bnQpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgc2VhcmNoIHF1ZXJpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtYWxmb3JtZWRRdWVyaWVzID0gW1xuICAgICAgICAnJywgLy8gRW1wdHkgcXVlcnlcbiAgICAgICAgJyAgICcsIC8vIFdoaXRlc3BhY2Ugb25seVxuICAgICAgICAnYScucmVwZWF0KDEwMDApLCAvLyBFeHRyZW1lbHkgbG9uZyBxdWVyeVxuICAgICAgICAnc3BlY2lhbCBjaGFyczogIUAjJCVeJiooKScsIC8vIFNwZWNpYWwgY2hhcmFjdGVyc1xuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBxdWVyeSBvZiBtYWxmb3JtZWRRdWVyaWVzKSB7XG4gICAgICAgIG1vY2tEYi5zZWFyY2hDb250YWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgY29udGFjdHM6IFtdLFxuICAgICAgICAgIHRvdGFsQ291bnQ6IDAsXG4gICAgICAgICAgZmFjZXRzOiB7IHRhZ3M6IFtdLCBjYXRlZ29yaWVzOiBbXSwgc291cmNlczogW10gfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHsgcXVlcnkgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuY29udGFjdHMpKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aW1lb3V0IGxvbmctcnVubmluZyBzZWFyY2hlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgYSBzZWFyY2ggdGhhdCB0YWtlcyB0b28gbG9uZ1xuICAgICAgbW9ja0RiLnNlYXJjaENvbnRhY3RzLm1vY2tJbXBsZW1lbnRhdGlvbihcbiAgICAgICAgKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoe1xuICAgICAgICAgICAgY29udGFjdHM6IFtdLFxuICAgICAgICAgICAgdG90YWxDb3VudDogMCxcbiAgICAgICAgICAgIGZhY2V0czogeyB0YWdzOiBbXSwgY2F0ZWdvcmllczogW10sIHNvdXJjZXM6IFtdIH0sXG4gICAgICAgICAgfSksIDEwMDAwKSAvLyAxMCBzZWNvbmQgZGVsYXlcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHtcbiAgICAgICAgcXVlcnk6ICd0aW1lb3V0IHRlc3QnLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgdGltZW91dCBhbmQgcmV0dXJuIGVtcHR5IHJlc3VsdHMgd2l0aGluIHJlYXNvbmFibGUgdGltZVxuICAgICAgZXhwZWN0KHNlYXJjaFRpbWUpLnRvQmVMZXNzVGhhbig1MDAwKTsgLy8gU2hvdWxkIG5vdCB3YWl0IGZ1bGwgMTAgc2Vjb25kc1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb250YWN0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9hZCBUZXN0aW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgc2VhcmNoIHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uY3VycmVudFNlYXJjaGVzID0gMjA7XG4gICAgICBjb25zdCBzZWFyY2hQcm9taXNlcyA9IFtdO1xuXG4gICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjb250YWN0czogW2NyZWF0ZU1vY2tDb250YWN0KCldLFxuICAgICAgICB0b3RhbENvdW50OiAxLFxuICAgICAgICBmYWNldHM6IHsgdGFnczogW10sIGNhdGVnb3JpZXM6IFtdLCBzb3VyY2VzOiBbXSB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIExhdW5jaCBjb25jdXJyZW50IHNlYXJjaGVzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmN1cnJlbnRTZWFyY2hlczsgaSsrKSB7XG4gICAgICAgIHNlYXJjaFByb21pc2VzLnB1c2goXG4gICAgICAgICAgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBgY29uY3VycmVudCBzZWFyY2ggJHtpfWAsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChzZWFyY2hQcm9taXNlcyk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKGNvbmN1cnJlbnRTZWFyY2hlcyk7XG4gICAgICBleHBlY3QocmVzdWx0cy5ldmVyeShyID0+IHIuY29udGFjdHMubGVuZ3RoID09PSAxKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh0b3RhbFRpbWUpLnRvQmVMZXNzVGhhbig1MDAwKTsgLy8gQWxsIHNlYXJjaGVzIHdpdGhpbiA1IHNlY29uZHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gcGVyZm9ybWFuY2UgdW5kZXIgbWVtb3J5IHByZXNzdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2ltdWxhdGUgbWVtb3J5LWludGVuc2l2ZSBvcGVyYXRpb25zXG4gICAgICBjb25zdCBsYXJnZURhdGFTZXRzID0gW107XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBjb25zdCBsYXJnZURhdGFTZXQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sIChfLCBqKSA9PiBcbiAgICAgICAgICBjcmVhdGVNb2NrQ29udGFjdCh7IGlkOiBgbWVtb3J5LXRlc3QtJHtpfS0ke2p9YCB9KVxuICAgICAgICApO1xuICAgICAgICBsYXJnZURhdGFTZXRzLnB1c2gobGFyZ2VEYXRhU2V0KTtcblxuICAgICAgICBtb2NrRGIuc2VhcmNoQ29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBjb250YWN0czogbGFyZ2VEYXRhU2V0LnNsaWNlKDAsIDUwKSwgLy8gUmV0dXJuIGZpcnN0IDUwXG4gICAgICAgICAgdG90YWxDb3VudDogbGFyZ2VEYXRhU2V0Lmxlbmd0aCxcbiAgICAgICAgICBmYWNldHM6IHsgdGFnczogW10sIGNhdGVnb3JpZXM6IFtdLCBzb3VyY2VzOiBbXSB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udGFjdE1hbmFnZW1lbnRTZXJ2aWNlLnNlYXJjaENvbnRhY3RzKHtcbiAgICAgICAgICBxdWVyeTogYG1lbW9yeSB0ZXN0ICR7aX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNlYXJjaFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29udGFjdHMpLnRvSGF2ZUxlbmd0aCg1MCk7XG4gICAgICAgIGV4cGVjdChzZWFyY2hUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIFNob3VsZCBtYWludGFpbiBwZXJmb3JtYW5jZVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBV0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJDQUEyQyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFMdkQsSUFBQUUseUJBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLHVCQUFBLEdBQUFILE9BQUE7QUFBbUYsU0FBQUgsWUFBQTtFQUFBLElBQUFPLFFBQUEsR0FBQUosT0FBQTtJQUFBSyxJQUFBLEdBQUFELFFBQUEsQ0FBQUMsSUFBQTtFQUFBUixXQUFBLFlB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