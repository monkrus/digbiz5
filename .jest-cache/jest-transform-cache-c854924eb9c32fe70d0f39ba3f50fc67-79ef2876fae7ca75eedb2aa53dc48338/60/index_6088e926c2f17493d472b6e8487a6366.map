{"version":3,"names":["_interopRequireDefault","require","_asyncToGenerator2","Object","defineProperty","exports","value","getDefaultConfig","enumerable","get","_metroConfig","mergeConfig","setFrameworkDefaults","INTERNAL_CALLSITES_REGEX","RegExp","map","pathPattern","replaceAll","join","frameworkDefaults","config","projectRoot","reactNativeDefaults","resolver","resolverMainFields","platforms","unstable_conditionNames","serializer","getModulesRunBeforeMainModule","resolve","getPolyfills","isThirdPartyModule","_ref","modulePath","path","test","server","port","Number","process","env","RCT_METRO_PORT","symbolicator","customizeFrame","frame","collapse","Boolean","file","transformer","allowOptionalDependencies","assetRegistryPath","asyncRequireModulePath","babelTransformerPath","getTransformOptions","_getTransformOptions","default","transform","experimentalImportSupport","inlineRequires","apply","arguments","watchFolders","global","__REACT_NATIVE_METRO_CONFIG_LOADED","metroDefaults","getDefaultValues"],"sources":["index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true,\n});\nexports.getDefaultConfig = getDefaultConfig;\nObject.defineProperty(exports, \"mergeConfig\", {\n  enumerable: true,\n  get: function () {\n    return _metroConfig.mergeConfig;\n  },\n});\nexports.setFrameworkDefaults = setFrameworkDefaults;\nvar _metroConfig = require(\"metro-config\");\nconst INTERNAL_CALLSITES_REGEX = new RegExp(\n  [\n    \"/Libraries/BatchedBridge/MessageQueue\\\\.js$\",\n    \"/Libraries/Core/.+\\\\.js$\",\n    \"/Libraries/LogBox/.+\\\\.js$\",\n    \"/Libraries/Network/.+\\\\.js$\",\n    \"/Libraries/Pressability/.+\\\\.js$\",\n    \"/Libraries/Renderer/implementations/.+\\\\.js$\",\n    \"/Libraries/Utilities/.+\\\\.js$\",\n    \"/Libraries/vendor/.+\\\\.js$\",\n    \"/Libraries/WebSocket/.+\\\\.js$\",\n    \"/src/private/renderer/errorhandling/.+\\\\.js$\",\n    \"/metro-runtime/.+\\\\.js$\",\n    \"/node_modules/@babel/runtime/.+\\\\.js$\",\n    \"/node_modules/@react-native/js-polyfills/.+\\\\.js$\",\n    \"/node_modules/invariant/.+\\\\.js$\",\n    \"/node_modules/react-devtools-core/.+\\\\.js$\",\n    \"/node_modules/react-native/index.js$\",\n    \"/node_modules/react-refresh/.+\\\\.js$\",\n    \"/node_modules/scheduler/.+\\\\.js$\",\n    \"^\\\\[native code\\\\]$\",\n  ]\n    .map((pathPattern) => pathPattern.replaceAll(\"/\", \"[/\\\\\\\\]\"))\n    .join(\"|\")\n);\nlet frameworkDefaults = {};\nfunction setFrameworkDefaults(config) {\n  frameworkDefaults = config;\n}\nfunction getDefaultConfig(projectRoot) {\n  const reactNativeDefaults = {\n    resolver: {\n      resolverMainFields: [\"react-native\", \"browser\", \"main\"],\n      platforms: [\"android\", \"ios\"],\n      unstable_conditionNames: [\"react-native\"],\n    },\n    serializer: {\n      getModulesRunBeforeMainModule: () => [\n        require.resolve(\"react-native/Libraries/Core/InitializeCore\"),\n      ],\n      getPolyfills: () => require(\"@react-native/js-polyfills\")(),\n      isThirdPartyModule({ path: modulePath }) {\n        return (\n          INTERNAL_CALLSITES_REGEX.test(modulePath) ||\n          /(?:^|[/\\\\])node_modules[/\\\\]/.test(modulePath)\n        );\n      },\n    },\n    server: {\n      port: Number(process.env.RCT_METRO_PORT) || 8081,\n    },\n    symbolicator: {\n      customizeFrame: (frame) => {\n        const collapse = Boolean(\n          frame.file != null && INTERNAL_CALLSITES_REGEX.test(frame.file)\n        );\n        return {\n          collapse,\n        };\n      },\n    },\n    transformer: {\n      allowOptionalDependencies: true,\n      assetRegistryPath: \"react-native/Libraries/Image/AssetRegistry\",\n      asyncRequireModulePath: require.resolve(\n        \"metro-runtime/src/modules/asyncRequire\"\n      ),\n      babelTransformerPath: require.resolve(\n        \"@react-native/metro-babel-transformer\"\n      ),\n      getTransformOptions: async () => ({\n        transform: {\n          experimentalImportSupport: false,\n          inlineRequires: true,\n        },\n      }),\n    },\n    watchFolders: [],\n  };\n  global.__REACT_NATIVE_METRO_CONFIG_LOADED = true;\n  const metroDefaults =\n    _metroConfig.getDefaultConfig.getDefaultValues(projectRoot);\n  return (0, _metroConfig.mergeConfig)(\n    metroDefaults,\n    reactNativeDefaults,\n    frameworkDefaults\n  );\n}\n"],"mappings":"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","ignoreList":[]}