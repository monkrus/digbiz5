c56a7ddc2cd620e3b177cbaf1064a224
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var invariant = require('invariant');
var DEBUG = false;
var TaskQueue = function () {
  function TaskQueue(_ref) {
    var onMoreTasks = _ref.onMoreTasks;
    (0, _classCallCheck2.default)(this, TaskQueue);
    this._onMoreTasks = onMoreTasks;
    this._queueStack = [{
      tasks: [],
      popable: false
    }];
  }
  return (0, _createClass2.default)(TaskQueue, [{
    key: "enqueue",
    value: function enqueue(task) {
      this._getCurrentQueue().push(task);
    }
  }, {
    key: "enqueueTasks",
    value: function enqueueTasks(tasks) {
      var _this = this;
      tasks.forEach(function (task) {
        return _this.enqueue(task);
      });
    }
  }, {
    key: "cancelTasks",
    value: function cancelTasks(tasksToCancel) {
      this._queueStack = this._queueStack.map(function (queue) {
        return Object.assign({}, queue, {
          tasks: queue.tasks.filter(function (task) {
            return tasksToCancel.indexOf(task) === -1;
          })
        });
      }).filter(function (queue, idx) {
        return queue.tasks.length > 0 || idx === 0;
      });
    }
  }, {
    key: "hasTasksToProcess",
    value: function hasTasksToProcess() {
      return this._getCurrentQueue().length > 0;
    }
  }, {
    key: "processNext",
    value: function processNext() {
      var queue = this._getCurrentQueue();
      if (queue.length) {
        var task = queue.shift();
        try {
          if (typeof task === 'object' && task.gen) {
            DEBUG && console.log('TaskQueue: genPromise for task ' + task.name);
            this._genPromise(task);
          } else if (typeof task === 'object' && task.run) {
            DEBUG && console.log('TaskQueue: run task ' + task.name);
            task.run();
          } else {
            invariant(typeof task === 'function', 'Expected Function, SimpleTask, or PromiseTask, but got:\n' + JSON.stringify(task, null, 2));
            DEBUG && console.log('TaskQueue: run anonymous task');
            task();
          }
        } catch (e) {
          e.message = 'TaskQueue: Error with task ' + (task.name || '') + ': ' + e.message;
          throw e;
        }
      }
    }
  }, {
    key: "_getCurrentQueue",
    value: function _getCurrentQueue() {
      var stackIdx = this._queueStack.length - 1;
      var queue = this._queueStack[stackIdx];
      if (queue.popable && queue.tasks.length === 0 && this._queueStack.length > 1) {
        this._queueStack.pop();
        DEBUG && console.log('TaskQueue: popped queue: ', {
          stackIdx: stackIdx,
          queueStackSize: this._queueStack.length
        });
        return this._getCurrentQueue();
      } else {
        return queue.tasks;
      }
    }
  }, {
    key: "_genPromise",
    value: function _genPromise(task) {
      var _this2 = this;
      this._queueStack.push({
        tasks: [],
        popable: false
      });
      var stackIdx = this._queueStack.length - 1;
      var stackItem = this._queueStack[stackIdx];
      DEBUG && console.log('TaskQueue: push new queue: ', {
        stackIdx: stackIdx
      });
      DEBUG && console.log('TaskQueue: exec gen task ' + task.name);
      task.gen().then(function () {
        DEBUG && console.log('TaskQueue: onThen for gen task ' + task.name, {
          stackIdx: stackIdx,
          queueStackSize: _this2._queueStack.length
        });
        stackItem.popable = true;
        _this2.hasTasksToProcess() && _this2._onMoreTasks();
      }).catch(function (ex) {
        setTimeout(function () {
          ex.message = `TaskQueue: Error resolving Promise in task ${task.name}: ${ex.message}`;
          throw ex;
        }, 0);
      });
    }
  }]);
}();
var _default = exports.default = TaskQueue;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiaW52YXJpYW50IiwiREVCVUciLCJUYXNrUXVldWUiLCJfcmVmIiwib25Nb3JlVGFza3MiLCJfb25Nb3JlVGFza3MiLCJfcXVldWVTdGFjayIsInRhc2tzIiwicG9wYWJsZSIsImtleSIsImVucXVldWUiLCJ0YXNrIiwiX2dldEN1cnJlbnRRdWV1ZSIsInB1c2giLCJlbnF1ZXVlVGFza3MiLCJfdGhpcyIsImZvckVhY2giLCJjYW5jZWxUYXNrcyIsInRhc2tzVG9DYW5jZWwiLCJtYXAiLCJxdWV1ZSIsImFzc2lnbiIsImZpbHRlciIsImluZGV4T2YiLCJpZHgiLCJsZW5ndGgiLCJoYXNUYXNrc1RvUHJvY2VzcyIsInByb2Nlc3NOZXh0Iiwic2hpZnQiLCJnZW4iLCJjb25zb2xlIiwibG9nIiwibmFtZSIsIl9nZW5Qcm9taXNlIiwicnVuIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJtZXNzYWdlIiwic3RhY2tJZHgiLCJwb3AiLCJxdWV1ZVN0YWNrU2l6ZSIsIl90aGlzMiIsInN0YWNrSXRlbSIsInRoZW4iLCJjYXRjaCIsImV4Iiwic2V0VGltZW91dCIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiVGFza1F1ZXVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3RcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG5leHBvcnQgdHlwZSBTaW1wbGVUYXNrID0ge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJ1bjogKCkgPT4gdm9pZCxcbn07XG5leHBvcnQgdHlwZSBQcm9taXNlVGFzayA9IHtcbiAgbmFtZTogc3RyaW5nLFxuICBnZW46ICgpID0+IFByb21pc2U8dm9pZD4sXG59O1xuZXhwb3J0IHR5cGUgVGFzayA9IFNpbXBsZVRhc2sgfCBQcm9taXNlVGFzayB8ICgoKSA9PiB2b2lkKTtcblxuY29uc3QgREVCVUc6IGZhbHNlID0gZmFsc2U7XG5cbi8qKlxuICogVGFza1F1ZXVlIC0gQSBzeXN0ZW0gZm9yIHF1ZXVlaW5nIGFuZCBleGVjdXRpbmcgYSBtaXggb2Ygc2ltcGxlIGNhbGxiYWNrcyBhbmRcbiAqIHRyZWVzIG9mIGRlcGVuZGVudCB0YXNrcyBiYXNlZCBvbiBQcm9taXNlcy4gTm8gdGFza3MgYXJlIGV4ZWN1dGVkIHVubGVzc1xuICogYHByb2Nlc3NOZXh0YCBpcyBjYWxsZWQuXG4gKlxuICogYGVucXVldWVgIHRha2VzIGEgVGFzayBvYmplY3Qgd2l0aCBlaXRoZXIgYSBzaW1wbGUgYHJ1bmAgY2FsbGJhY2ssIG9yIGFcbiAqIGBnZW5gIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGBQcm9taXNlYCBhbmQgcHV0cyBpdCBpbiB0aGUgcXVldWUuICBJZiBhIGdlblxuICogZnVuY3Rpb24gaXMgc3VwcGxpZWQsIHRoZW4gdGhlIHByb21pc2UgaXQgcmV0dXJucyB3aWxsIGJsb2NrIGV4ZWN1dGlvbiBvZlxuICogdGFza3MgYWxyZWFkeSBpbiB0aGUgcXVldWUgdW50aWwgaXQgcmVzb2x2ZXMuIFRoaXMgY2FuIGJlIHVzZWQgdG8gbWFrZSBzdXJlXG4gKiB0aGUgZmlyc3QgdGFzayBpcyBmdWxseSByZXNvbHZlZCAoaW5jbHVkaW5nIGFzeW5jaHJvbm91cyBkZXBlbmRlbmNpZXMgdGhhdFxuICogYWxzbyBzY2hlZHVsZSBtb3JlIHRhc2tzIHZpYSBgZW5xdWV1ZWApIGJlZm9yZSBzdGFydGluZyBvbiB0aGUgbmV4dCB0YXNrLlxuICogVGhlIGBvbk1vcmVUYXNrc2AgY29uc3RydWN0b3IgYXJndW1lbnQgaXMgdXNlZCB0byBpbmZvcm0gdGhlIG93bmVyIHRoYXQgYW5cbiAqIGFzeW5jIHRhc2sgaGFzIHJlc29sdmVkIGFuZCB0aGF0IHRoZSBxdWV1ZSBzaG91bGQgYmUgcHJvY2Vzc2VkIGFnYWluLlxuICpcbiAqIE5vdGU6IFRhc2tzIGFyZSBvbmx5IGFjdHVhbGx5IGV4ZWN1dGVkIHdpdGggZXhwbGljaXQgY2FsbHMgdG8gYHByb2Nlc3NOZXh0YC5cbiAqL1xuY2xhc3MgVGFza1F1ZXVlIHtcbiAgLyoqXG4gICAqIFRhc2tRdWV1ZSBpbnN0YW5jZXMgYXJlIHNlbGYgY29udGFpbmVkIGFuZCBpbmRlcGVuZGVudCwgc28gbXVsdGlwbGUgdGFza3NcbiAgICogb2YgdmFyeWluZyBzZW1hbnRpY3MgYW5kIHByaW9yaXR5IGNhbiBvcGVyYXRlIHRvZ2V0aGVyLlxuICAgKlxuICAgKiBgb25Nb3JlVGFza3NgIGlzIGludm9rZWQgd2hlbiBgUHJvbWlzZVRhc2tgcyByZXNvbHZlIGlmIHRoZXJlIGFyZSBtb3JlXG4gICAqIHRhc2tzIHRvIHByb2Nlc3MuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7b25Nb3JlVGFza3N9OiB7b25Nb3JlVGFza3M6ICgpID0+IHZvaWQsIC4uLn0pIHtcbiAgICB0aGlzLl9vbk1vcmVUYXNrcyA9IG9uTW9yZVRhc2tzO1xuICAgIHRoaXMuX3F1ZXVlU3RhY2sgPSBbe3Rhc2tzOiBbXSwgcG9wYWJsZTogZmFsc2V9XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0YXNrIHRvIHRoZSBxdWV1ZS4gIEl0IGlzIHJlY29tbWVuZGVkIHRvIG5hbWUgeW91ciB0YXNrcyBmb3IgZWFzaWVyXG4gICAqIGFzeW5jIGRlYnVnZ2luZy4gVGFza3Mgd2lsbCBub3QgYmUgZXhlY3V0ZWQgdW50aWwgYHByb2Nlc3NOZXh0YCBpcyBjYWxsZWRcbiAgICogZXhwbGljaXRseS5cbiAgICovXG4gIGVucXVldWUodGFzazogVGFzayk6IHZvaWQge1xuICAgIHRoaXMuX2dldEN1cnJlbnRRdWV1ZSgpLnB1c2godGFzayk7XG4gIH1cblxuICBlbnF1ZXVlVGFza3ModGFza3M6IEFycmF5PFRhc2s+KTogdm9pZCB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHRoaXMuZW5xdWV1ZSh0YXNrKSk7XG4gIH1cblxuICBjYW5jZWxUYXNrcyh0YXNrc1RvQ2FuY2VsOiBBcnJheTxUYXNrPik6IHZvaWQge1xuICAgIC8vIHNlYXJjaCB0aHJvdWdoIGFsbCB0YXNrcyBhbmQgcmVtb3ZlIHRoZW0uXG4gICAgdGhpcy5fcXVldWVTdGFjayA9IHRoaXMuX3F1ZXVlU3RhY2tcbiAgICAgIC5tYXAocXVldWUgPT4gKHtcbiAgICAgICAgLi4ucXVldWUsXG4gICAgICAgIHRhc2tzOiBxdWV1ZS50YXNrcy5maWx0ZXIodGFzayA9PiB0YXNrc1RvQ2FuY2VsLmluZGV4T2YodGFzaykgPT09IC0xKSxcbiAgICAgIH0pKVxuICAgICAgLmZpbHRlcigocXVldWUsIGlkeCkgPT4gcXVldWUudGFza3MubGVuZ3RoID4gMCB8fCBpZHggPT09IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRvIHNlZSBpZiBgcHJvY2Vzc05leHRgIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIHRhc2tzIHRoYXQgYXJlIHJlYWR5IHRvIGJlXG4gICAqIHByb2Nlc3NlZCB3aXRoIGBwcm9jZXNzTmV4dGAsIG9yIHJldHVybnMgZmFsc2UgaWYgdGhlcmUgYXJlIG5vIG1vcmUgdGFza3NcbiAgICogdG8gYmUgcHJvY2Vzc2VkIHJpZ2h0IG5vdywgYWx0aG91Z2ggdGhlcmUgbWF5IGJlIHRhc2tzIGluIHRoZSBxdWV1ZSB0aGF0XG4gICAqIGFyZSBibG9ja2VkIGJ5IGVhcmxpZXIgYFByb21pc2VUYXNrYHMgdGhhdCBoYXZlbid0IHJlc29sdmVkIHlldC5cbiAgICogYG9uTW9yZVRhc2tzYCB3aWxsIGJlIGNhbGxlZCBhZnRlciBlYWNoIGBQcm9taXNlVGFza2AgcmVzb2x2ZXMgaWYgdGhlcmUgYXJlXG4gICAqIHRhc2tzIHJlYWR5IHRvIHJ1biBhdCB0aGF0IHBvaW50LlxuICAgKi9cbiAgaGFzVGFza3NUb1Byb2Nlc3MoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEN1cnJlbnRRdWV1ZSgpLmxlbmd0aCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIG5leHQgdGFzayBpbiB0aGUgcXVldWUuXG4gICAqL1xuICBwcm9jZXNzTmV4dCgpOiB2b2lkIHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMuX2dldEN1cnJlbnRRdWV1ZSgpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHRhc2sgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXNrID09PSAnb2JqZWN0JyAmJiB0YXNrLmdlbikge1xuICAgICAgICAgIERFQlVHICYmIGNvbnNvbGUubG9nKCdUYXNrUXVldWU6IGdlblByb21pc2UgZm9yIHRhc2sgJyArIHRhc2submFtZSk7XG4gICAgICAgICAgdGhpcy5fZ2VuUHJvbWlzZSh0YXNrKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGFzayA9PT0gJ29iamVjdCcgJiYgdGFzay5ydW4pIHtcbiAgICAgICAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnVGFza1F1ZXVlOiBydW4gdGFzayAnICsgdGFzay5uYW1lKTtcbiAgICAgICAgICB0YXNrLnJ1bigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgIHR5cGVvZiB0YXNrID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgJ0V4cGVjdGVkIEZ1bmN0aW9uLCBTaW1wbGVUYXNrLCBvciBQcm9taXNlVGFzaywgYnV0IGdvdDpcXG4nICtcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGFzaywgbnVsbCwgMiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnVGFza1F1ZXVlOiBydW4gYW5vbnltb3VzIHRhc2snKTtcbiAgICAgICAgICB0YXNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZS5tZXNzYWdlID1cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXVxuICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgICAnVGFza1F1ZXVlOiBFcnJvciB3aXRoIHRhc2sgJyArICh0YXNrLm5hbWUgfHwgJycpICsgJzogJyArIGUubWVzc2FnZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfcXVldWVTdGFjazogQXJyYXk8e1xuICAgIHRhc2tzOiBBcnJheTxUYXNrPixcbiAgICBwb3BhYmxlOiBib29sZWFuLFxuICAgIC4uLlxuICB9PjtcbiAgX29uTW9yZVRhc2tzOiAoKSA9PiB2b2lkO1xuXG4gIF9nZXRDdXJyZW50UXVldWUoKTogQXJyYXk8VGFzaz4ge1xuICAgIGNvbnN0IHN0YWNrSWR4ID0gdGhpcy5fcXVldWVTdGFjay5sZW5ndGggLSAxO1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWVTdGFja1tzdGFja0lkeF07XG4gICAgaWYgKFxuICAgICAgcXVldWUucG9wYWJsZSAmJlxuICAgICAgcXVldWUudGFza3MubGVuZ3RoID09PSAwICYmXG4gICAgICB0aGlzLl9xdWV1ZVN0YWNrLmxlbmd0aCA+IDFcbiAgICApIHtcbiAgICAgIHRoaXMuX3F1ZXVlU3RhY2sucG9wKCk7XG4gICAgICBERUJVRyAmJlxuICAgICAgICBjb25zb2xlLmxvZygnVGFza1F1ZXVlOiBwb3BwZWQgcXVldWU6ICcsIHtcbiAgICAgICAgICBzdGFja0lkeCxcbiAgICAgICAgICBxdWV1ZVN0YWNrU2l6ZTogdGhpcy5fcXVldWVTdGFjay5sZW5ndGgsXG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnJlbnRRdWV1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcXVldWUudGFza3M7XG4gICAgfVxuICB9XG5cbiAgX2dlblByb21pc2UodGFzazogUHJvbWlzZVRhc2spIHtcbiAgICAvLyBFYWNoIGFzeW5jIHRhc2sgcHVzaGVzIGl0J3Mgb3duIHF1ZXVlIG9udG8gdGhlIHF1ZXVlIHN0YWNrLiBUaGlzXG4gICAgLy8gZWZmZWN0aXZlbHkgZGVmZXJzIGV4ZWN1dGlvbiBvZiBwcmV2aW91c2x5IHF1ZXVlZCB0YXNrcyB1bnRpbCB0aGUgcHJvbWlzZVxuICAgIC8vIHJlc29sdmVzLCBhdCB3aGljaCBwb2ludCB3ZSBhbGxvdyB0aGUgbmV3IHF1ZXVlIHRvIGJlIHBvcHBlZCwgd2hpY2hcbiAgICAvLyBoYXBwZW5zIG9uY2UgaXQgaXMgZnVsbHkgcHJvY2Vzc2VkLlxuICAgIHRoaXMuX3F1ZXVlU3RhY2sucHVzaCh7dGFza3M6IFtdLCBwb3BhYmxlOiBmYWxzZX0pO1xuICAgIGNvbnN0IHN0YWNrSWR4ID0gdGhpcy5fcXVldWVTdGFjay5sZW5ndGggLSAxO1xuICAgIGNvbnN0IHN0YWNrSXRlbSA9IHRoaXMuX3F1ZXVlU3RhY2tbc3RhY2tJZHhdO1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKCdUYXNrUXVldWU6IHB1c2ggbmV3IHF1ZXVlOiAnLCB7c3RhY2tJZHh9KTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnVGFza1F1ZXVlOiBleGVjIGdlbiB0YXNrICcgKyB0YXNrLm5hbWUpO1xuICAgIHRhc2tcbiAgICAgIC5nZW4oKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBERUJVRyAmJlxuICAgICAgICAgIGNvbnNvbGUubG9nKCdUYXNrUXVldWU6IG9uVGhlbiBmb3IgZ2VuIHRhc2sgJyArIHRhc2submFtZSwge1xuICAgICAgICAgICAgc3RhY2tJZHgsXG4gICAgICAgICAgICBxdWV1ZVN0YWNrU2l6ZTogdGhpcy5fcXVldWVTdGFjay5sZW5ndGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgIHN0YWNrSXRlbS5wb3BhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNUYXNrc1RvUHJvY2VzcygpICYmIHRoaXMuX29uTW9yZVRhc2tzKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGV4ID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZXgubWVzc2FnZSA9IGBUYXNrUXVldWU6IEVycm9yIHJlc29sdmluZyBQcm9taXNlIGluIHRhc2sgJHt0YXNrLm5hbWV9OiAke2V4Lm1lc3NhZ2V9YDtcbiAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrUXVldWU7XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxPQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFPLGFBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUViLElBQU1RLFNBQVMsR0FBR1IsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQVl0QyxJQUFNUyxLQUFZLEdBQUcsS0FBSztBQUFDLElBa0JyQkMsU0FBUztFQVFiLFNBQUFBLFVBQUFDLElBQUEsRUFBMkQ7SUFBQSxJQUE5Q0MsV0FBVyxHQUFBRCxJQUFBLENBQVhDLFdBQVc7SUFBQSxJQUFBTixnQkFBQSxDQUFBRCxPQUFBLFFBQUFLLFNBQUE7SUFDdEIsSUFBSSxD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