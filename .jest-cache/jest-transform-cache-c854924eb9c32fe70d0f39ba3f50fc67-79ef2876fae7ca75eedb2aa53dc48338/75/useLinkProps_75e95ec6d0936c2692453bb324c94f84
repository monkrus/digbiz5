4851bfcf93e2ef5cd06db802d0864e47
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLinkProps = useLinkProps;
var _core = require("@react-navigation/core");
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _LinkingContext = require("./LinkingContext.js");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var _getStateFromParams = function getStateFromParams(params) {
  if (params != null && params.state) {
    return params.state;
  }
  if (params != null && params.screen) {
    return {
      routes: [{
        name: params.screen,
        params: params.params,
        state: params.screen ? _getStateFromParams(params.params) : undefined
      }]
    };
  }
  return undefined;
};
function useLinkProps(_ref) {
  var _options$getPathFromS;
  var screen = _ref.screen,
    params = _ref.params,
    href = _ref.href,
    action = _ref.action;
  var root = React.useContext(_core.NavigationContainerRefContext);
  var navigation = React.useContext(_core.NavigationHelpersContext);
  var _React$useContext = React.useContext(_LinkingContext.LinkingContext),
    options = _React$useContext.options;
  var onPress = function onPress(e) {
    var shouldHandle = false;
    if (_reactNative.Platform.OS !== 'web' || !e) {
      e == null || e.preventDefault == null || e.preventDefault();
      shouldHandle = true;
    } else {
      var hasModifierKey = 'metaKey' in e && e.metaKey || 'altKey' in e && e.altKey || 'ctrlKey' in e && e.ctrlKey || 'shiftKey' in e && e.shiftKey;
      var isLeftClick = 'button' in e ? e.button == null || e.button === 0 : true;
      var isSelfTarget = e.currentTarget && 'target' in e.currentTarget ? [undefined, null, '', 'self'].includes(e.currentTarget.target) : true;
      if (!hasModifierKey && isLeftClick && isSelfTarget) {
        e.preventDefault == null || e.preventDefault();
        shouldHandle = true;
      }
    }
    if (shouldHandle) {
      if (action) {
        if (navigation) {
          navigation.dispatch(action);
        } else if (root) {
          root.dispatch(action);
        } else {
          throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");
        }
      } else {
        navigation == null || navigation.navigate(screen, params);
      }
    }
  };
  var getPathFromStateHelper = (_options$getPathFromS = options == null ? void 0 : options.getPathFromState) != null ? _options$getPathFromS : _core.getPathFromState;
  return {
    href: href != null ? href : _reactNative.Platform.OS === 'web' && screen != null ? getPathFromStateHelper({
      routes: [{
        name: screen,
        params: params,
        state: _getStateFromParams(params)
      }]
    }, options == null ? void 0 : options.config) : undefined,
    role: 'link',
    onPress: onPress
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29yZSIsInJlcXVpcmUiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3JlYWN0TmF0aXZlIiwiX0xpbmtpbmdDb250ZXh0IiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRTdGF0ZUZyb21QYXJhbXMiLCJwYXJhbXMiLCJzdGF0ZSIsInNjcmVlbiIsInJvdXRlcyIsIm5hbWUiLCJ1bmRlZmluZWQiLCJ1c2VMaW5rUHJvcHMiLCJfcmVmIiwiX29wdGlvbnMkZ2V0UGF0aEZyb21TIiwiaHJlZiIsImFjdGlvbiIsInJvb3QiLCJ1c2VDb250ZXh0IiwiTmF2aWdhdGlvbkNvbnRhaW5lclJlZkNvbnRleHQiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbkhlbHBlcnNDb250ZXh0IiwiX1JlYWN0JHVzZUNvbnRleHQiLCJMaW5raW5nQ29udGV4dCIsIm9wdGlvbnMiLCJvblByZXNzIiwic2hvdWxkSGFuZGxlIiwiUGxhdGZvcm0iLCJPUyIsInByZXZlbnREZWZhdWx0IiwiaGFzTW9kaWZpZXJLZXkiLCJtZXRhS2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiaXNMZWZ0Q2xpY2siLCJidXR0b24iLCJpc1NlbGZUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaW5jbHVkZXMiLCJ0YXJnZXQiLCJkaXNwYXRjaCIsIkVycm9yIiwibmF2aWdhdGUiLCJnZXRQYXRoRnJvbVN0YXRlSGVscGVyIiwiZ2V0UGF0aEZyb21TdGF0ZSIsImNvbmZpZyIsInJvbGUiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvdXNlTGlua1Byb3BzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6W251bGxd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