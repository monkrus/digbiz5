8c35fd6851c03d3d2936d3a8c084a59b
var _tokenUtils = require("../../../src/utils/tokenUtils");
var createMockToken = function createMockToken(payload) {
  var header = {
    alg: 'HS256',
    typ: 'JWT'
  };
  var encodedHeader = Buffer.from(JSON.stringify(header)).toString('base64');
  var encodedPayload = Buffer.from(JSON.stringify(payload)).toString('base64');
  var signature = 'mock-signature';
  return `${encodedHeader}.${encodedPayload}.${signature}`;
};
var futureTime = Math.floor(Date.now() / 1000) + 3600;
var pastTime = Math.floor(Date.now() / 1000) - 3600;
var nearFutureTime = Math.floor(Date.now() / 1000) + 60;
describe('Token Utilities', function () {
  describe('decodeJWTPayload', function () {
    it('should decode valid JWT payload', function () {
      var payload = {
        sub: '123',
        email: 'test@example.com',
        exp: futureTime
      };
      var token = createMockToken(payload);
      var decoded = (0, _tokenUtils.decodeJWTPayload)(token);
      expect(decoded).toEqual(payload);
    });
    it('should return null for invalid token format', function () {
      var invalidToken = 'invalid.token';
      var decoded = (0, _tokenUtils.decodeJWTPayload)(invalidToken);
      expect(decoded).toBeNull();
    });
    it('should return null for malformed token', function () {
      var malformedToken = 'header.invalid-base64.signature';
      var decoded = (0, _tokenUtils.decodeJWTPayload)(malformedToken);
      expect(decoded).toBeNull();
    });
  });
  describe('isTokenExpired', function () {
    it('should return false for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(false);
    });
    it('should return true for expired token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(true);
    });
    it('should return true for token without expiration', function () {
      var payload = {
        sub: '123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.isTokenExpired)(token)).toBe(true);
    });
  });
  describe('getTokenExpirationTime', function () {
    it('should return expiration time for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenExpirationTime)(token)).toBe(futureTime);
    });
    it('should return null for token without expiration', function () {
      var payload = {
        sub: '123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenExpirationTime)(token)).toBeNull();
    });
  });
  describe('getTokenTimeRemaining', function () {
    it('should return remaining time for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var remaining = (0, _tokenUtils.getTokenTimeRemaining)(token);
      expect(remaining).toBeGreaterThan(0);
      expect(remaining).toBeLessThanOrEqual(3600);
    });
    it('should return 0 for expired token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getTokenTimeRemaining)(token)).toBe(0);
    });
  });
  describe('validateTokens', function () {
    var mockTokens = {
      accessToken: '',
      refreshToken: '',
      expiresIn: 3600,
      tokenType: 'Bearer'
    };
    it('should validate tokens correctly for valid token', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(true);
      expect(validation.isExpired).toBe(false);
      expect(validation.shouldRefresh).toBe(false);
    });
    it('should suggest refresh for token expiring soon', function () {
      var payload = {
        exp: nearFutureTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(true);
      expect(validation.shouldRefresh).toBe(true);
    });
    it('should handle expired tokens', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      var tokens = Object.assign({}, mockTokens, {
        accessToken: token
      });
      var validation = (0, _tokenUtils.validateTokens)(tokens);
      expect(validation.isValid).toBe(false);
      expect(validation.isExpired).toBe(true);
    });
  });
  describe('getUserIdFromToken', function () {
    it('should extract user ID from sub field', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBe('user123');
    });
    it('should extract user ID from userId field', function () {
      var payload = {
        userId: 'user456'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBe('user456');
    });
    it('should return null if no user ID found', function () {
      var payload = {
        email: 'test@example.com'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getUserIdFromToken)(token)).toBeNull();
    });
  });
  describe('getEmailFromToken', function () {
    it('should extract email from token', function () {
      var payload = {
        email: 'test@example.com'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getEmailFromToken)(token)).toBe('test@example.com');
    });
    it('should return null if no email found', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getEmailFromToken)(token)).toBeNull();
    });
  });
  describe('getRolesFromToken', function () {
    it('should extract roles from token', function () {
      var payload = {
        roles: ['admin', 'user']
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getRolesFromToken)(token)).toEqual(['admin', 'user']);
    });
    it('should return empty array if no roles found', function () {
      var payload = {
        sub: 'user123'
      };
      var token = createMockToken(payload);
      expect((0, _tokenUtils.getRolesFromToken)(token)).toEqual([]);
    });
  });
  describe('formatAuthHeader', function () {
    it('should format Bearer token header', function () {
      var token = 'abc123';
      expect((0, _tokenUtils.formatAuthHeader)(token)).toBe('Bearer abc123');
    });
    it('should format custom token type', function () {
      var token = 'abc123';
      expect((0, _tokenUtils.formatAuthHeader)(token, 'Basic')).toBe('Basic abc123');
    });
  });
  describe('getOptimalRefreshTime', function () {
    it('should calculate optimal refresh time', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: token,
        refreshToken: '',
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      var refreshTime = (0, _tokenUtils.getOptimalRefreshTime)(tokens);
      expect(refreshTime).toBeGreaterThan(60);
      expect(refreshTime).toBeLessThan(3600);
    });
  });
  describe('isRefreshTokenValid', function () {
    it('should validate refresh token without expiration', function () {
      var payload = {
        type: 'refresh'
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(true);
    });
    it('should validate refresh token with future expiration', function () {
      var payload = {
        exp: futureTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(true);
    });
    it('should reject expired refresh token', function () {
      var payload = {
        exp: pastTime
      };
      var token = createMockToken(payload);
      var tokens = {
        accessToken: '',
        refreshToken: token,
        expiresIn: 3600,
        tokenType: 'Bearer'
      };
      expect((0, _tokenUtils.isRefreshTokenValid)(tokens)).toBe(false);
    });
  });
  describe('getTokenInfo', function () {
    it('should extract comprehensive token information', function () {
      var issuedAt = Math.floor(Date.now() / 1000) - 1800;
      var payload = {
        sub: 'user123',
        email: 'test@example.com',
        roles: ['user'],
        iat: issuedAt,
        exp: futureTime
      };
      var token = createMockToken(payload);
      var info = (0, _tokenUtils.getTokenInfo)(token);
      expect(info).toEqual({
        userId: 'user123',
        email: 'test@example.com',
        roles: ['user'],
        issuedAt: new Date(issuedAt * 1000),
        expiresAt: new Date(futureTime * 1000),
        timeRemaining: expect.any(Number),
        isExpired: false
      });
    });
    it('should return null for invalid token', function () {
      var invalidToken = 'invalid.token';
      expect((0, _tokenUtils.getTokenInfo)(invalidToken)).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW5VdGlscyIsInJlcXVpcmUiLCJjcmVhdGVNb2NrVG9rZW4iLCJwYXlsb2FkIiwiaGVhZGVyIiwiYWxnIiwidHlwIiwiZW5jb2RlZEhlYWRlciIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJlbmNvZGVkUGF5bG9hZCIsInNpZ25hdHVyZSIsImZ1dHVyZVRpbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwicGFzdFRpbWUiLCJuZWFyRnV0dXJlVGltZSIsImRlc2NyaWJlIiwiaXQiLCJzdWIiLCJlbWFpbCIsImV4cCIsInRva2VuIiwiZGVjb2RlZCIsImRlY29kZUpXVFBheWxvYWQiLCJleHBlY3QiLCJ0b0VxdWFsIiwiaW52YWxpZFRva2VuIiwidG9CZU51bGwiLCJtYWxmb3JtZWRUb2tlbiIsImlzVG9rZW5FeHBpcmVkIiwidG9CZSIsImdldFRva2VuRXhwaXJhdGlvblRpbWUiLCJyZW1haW5pbmciLCJnZXRUb2tlblRpbWVSZW1haW5pbmciLCJ0b0JlR3JlYXRlclRoYW4iLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwibW9ja1Rva2VucyIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiZXhwaXJlc0luIiwidG9rZW5UeXBlIiwidG9rZW5zIiwiT2JqZWN0IiwiYXNzaWduIiwidmFsaWRhdGlvbiIsInZhbGlkYXRlVG9rZW5zIiwiaXNWYWxpZCIsImlzRXhwaXJlZCIsInNob3VsZFJlZnJlc2giLCJnZXRVc2VySWRGcm9tVG9rZW4iLCJ1c2VySWQiLCJnZXRFbWFpbEZyb21Ub2tlbiIsInJvbGVzIiwiZ2V0Um9sZXNGcm9tVG9rZW4iLCJmb3JtYXRBdXRoSGVhZGVyIiwicmVmcmVzaFRpbWUiLCJnZXRPcHRpbWFsUmVmcmVzaFRpbWUiLCJ0b0JlTGVzc1RoYW4iLCJ0eXBlIiwiaXNSZWZyZXNoVG9rZW5WYWxpZCIsImlzc3VlZEF0IiwiaWF0IiwiaW5mbyIsImdldFRva2VuSW5mbyIsImV4cGlyZXNBdCIsInRpbWVSZW1haW5pbmciLCJhbnkiLCJOdW1iZXIiXSwic291cmNlcyI6WyJ0b2tlblV0aWxzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRva2VuIFV0aWxpdGllcyBUZXN0IFN1aXRlXHJcbiAqXHJcbiAqIFRlc3RzIEpXVCB0b2tlbiB2YWxpZGF0aW9uLCBwYXJzaW5nLCBhbmQgbWFuYWdlbWVudCB1dGlsaXRpZXMuXHJcbiAqIFZhbGlkYXRlcyB0b2tlbiBleHBpcmF0aW9uLCBwYXlsb2FkIGV4dHJhY3Rpb24sIGFuZCB0aW1pbmcgY2FsY3VsYXRpb25zLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgZGVjb2RlSldUUGF5bG9hZCxcclxuICBpc1Rva2VuRXhwaXJlZCxcclxuICBnZXRUb2tlbkV4cGlyYXRpb25UaW1lLFxyXG4gIGdldFRva2VuVGltZVJlbWFpbmluZyxcclxuICB2YWxpZGF0ZVRva2VucyxcclxuICBnZXRVc2VySWRGcm9tVG9rZW4sXHJcbiAgZ2V0RW1haWxGcm9tVG9rZW4sXHJcbiAgZ2V0Um9sZXNGcm9tVG9rZW4sXHJcbiAgZm9ybWF0QXV0aEhlYWRlcixcclxuICBnZXRPcHRpbWFsUmVmcmVzaFRpbWUsXHJcbiAgaXNSZWZyZXNoVG9rZW5WYWxpZCxcclxuICBnZXRUb2tlbkluZm8sXHJcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL3Rva2VuVXRpbHMnO1xyXG5pbXBvcnQgeyBKV1RUb2tlbnMgfSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMvYXV0aCc7XHJcblxyXG4vLyBNb2NrIEpXVCB0b2tlbnMgZm9yIHRlc3RpbmdcclxuY29uc3QgY3JlYXRlTW9ja1Rva2VuID0gKHBheWxvYWQ6IGFueSk6IHN0cmluZyA9PiB7XHJcbiAgY29uc3QgaGVhZGVyID0geyBhbGc6ICdIUzI1NicsIHR5cDogJ0pXVCcgfTtcclxuICBjb25zdCBlbmNvZGVkSGVhZGVyID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG4gIGNvbnN0IGVuY29kZWRQYXlsb2FkID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLnRvU3RyaW5nKFxyXG4gICAgJ2Jhc2U2NCcsXHJcbiAgKTtcclxuICBjb25zdCBzaWduYXR1cmUgPSAnbW9jay1zaWduYXR1cmUnO1xyXG4gIHJldHVybiBgJHtlbmNvZGVkSGVhZGVyfS4ke2VuY29kZWRQYXlsb2FkfS4ke3NpZ25hdHVyZX1gO1xyXG59O1xyXG5cclxuY29uc3QgZnV0dXJlVGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgMzYwMDsgLy8gMSBob3VyIGZyb20gbm93XHJcbmNvbnN0IHBhc3RUaW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgLSAzNjAwOyAvLyAxIGhvdXIgYWdvXHJcbmNvbnN0IG5lYXJGdXR1cmVUaW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyA2MDsgLy8gMSBtaW51dGUgZnJvbSBub3dcclxuXHJcbmRlc2NyaWJlKCdUb2tlbiBVdGlsaXRpZXMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ2RlY29kZUpXVFBheWxvYWQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGRlY29kZSB2YWxpZCBKV1QgcGF5bG9hZCcsICgpID0+IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgICAgICBzdWI6ICcxMjMnLFxyXG4gICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgZXhwOiBmdXR1cmVUaW1lLFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVKV1RQYXlsb2FkKHRva2VuKTtcclxuXHJcbiAgICAgIGV4cGVjdChkZWNvZGVkKS50b0VxdWFsKHBheWxvYWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCB0b2tlbiBmb3JtYXQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGludmFsaWRUb2tlbiA9ICdpbnZhbGlkLnRva2VuJztcclxuICAgICAgY29uc3QgZGVjb2RlZCA9IGRlY29kZUpXVFBheWxvYWQoaW52YWxpZFRva2VuKTtcclxuXHJcbiAgICAgIGV4cGVjdChkZWNvZGVkKS50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgbWFsZm9ybWVkIHRva2VuJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtYWxmb3JtZWRUb2tlbiA9ICdoZWFkZXIuaW52YWxpZC1iYXNlNjQuc2lnbmF0dXJlJztcclxuICAgICAgY29uc3QgZGVjb2RlZCA9IGRlY29kZUpXVFBheWxvYWQobWFsZm9ybWVkVG9rZW4pO1xyXG5cclxuICAgICAgZXhwZWN0KGRlY29kZWQpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2lzVG9rZW5FeHBpcmVkJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIHZhbGlkIHRva2VuJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IGZ1dHVyZVRpbWUgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcblxyXG4gICAgICBleHBlY3QoaXNUb2tlbkV4cGlyZWQodG9rZW4pKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIGV4cGlyZWQgdG9rZW4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogcGFzdFRpbWUgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcblxyXG4gICAgICBleHBlY3QoaXNUb2tlbkV4cGlyZWQodG9rZW4pKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgdG9rZW4gd2l0aG91dCBleHBpcmF0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBzdWI6ICcxMjMnIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG5cclxuICAgICAgZXhwZWN0KGlzVG9rZW5FeHBpcmVkKHRva2VuKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0VG9rZW5FeHBpcmF0aW9uVGltZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGV4cGlyYXRpb24gdGltZSBmb3IgdmFsaWQgdG9rZW4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogZnV0dXJlVGltZSB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRUb2tlbkV4cGlyYXRpb25UaW1lKHRva2VuKSkudG9CZShmdXR1cmVUaW1lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIHRva2VuIHdpdGhvdXQgZXhwaXJhdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgc3ViOiAnMTIzJyB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRUb2tlbkV4cGlyYXRpb25UaW1lKHRva2VuKSkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0VG9rZW5UaW1lUmVtYWluaW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcmVtYWluaW5nIHRpbWUgZm9yIHZhbGlkIHRva2VuJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IGZ1dHVyZVRpbWUgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcblxyXG4gICAgICBjb25zdCByZW1haW5pbmcgPSBnZXRUb2tlblRpbWVSZW1haW5pbmcodG9rZW4pO1xyXG4gICAgICBleHBlY3QocmVtYWluaW5nKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdChyZW1haW5pbmcpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMzYwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGZvciBleHBpcmVkIHRva2VuJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IHBhc3RUaW1lIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG5cclxuICAgICAgZXhwZWN0KGdldFRva2VuVGltZVJlbWFpbmluZyh0b2tlbikpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlVG9rZW5zJywgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1Rva2VuczogSldUVG9rZW5zID0ge1xyXG4gICAgICBhY2Nlc3NUb2tlbjogJycsXHJcbiAgICAgIHJlZnJlc2hUb2tlbjogJycsXHJcbiAgICAgIGV4cGlyZXNJbjogMzYwMCxcclxuICAgICAgdG9rZW5UeXBlOiAnQmVhcmVyJyxcclxuICAgIH07XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0b2tlbnMgY29ycmVjdGx5IGZvciB2YWxpZCB0b2tlbicsICgpID0+IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZXhwOiBmdXR1cmVUaW1lIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG4gICAgICBjb25zdCB0b2tlbnMgPSB7IC4uLm1vY2tUb2tlbnMsIGFjY2Vzc1Rva2VuOiB0b2tlbiB9O1xyXG5cclxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlVG9rZW5zKHRva2Vucyk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc0V4cGlyZWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5zaG91bGRSZWZyZXNoKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc3VnZ2VzdCByZWZyZXNoIGZvciB0b2tlbiBleHBpcmluZyBzb29uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IG5lYXJGdXR1cmVUaW1lIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG4gICAgICBjb25zdCB0b2tlbnMgPSB7IC4uLm1vY2tUb2tlbnMsIGFjY2Vzc1Rva2VuOiB0b2tlbiB9O1xyXG5cclxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlVG9rZW5zKHRva2Vucyk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5zaG91bGRSZWZyZXNoKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXhwaXJlZCB0b2tlbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogcGFzdFRpbWUgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcbiAgICAgIGNvbnN0IHRva2VucyA9IHsgLi4ubW9ja1Rva2VucywgYWNjZXNzVG9rZW46IHRva2VuIH07XHJcblxyXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVUb2tlbnModG9rZW5zKTtcclxuXHJcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzVmFsaWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc0V4cGlyZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldFVzZXJJZEZyb21Ub2tlbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXh0cmFjdCB1c2VyIElEIGZyb20gc3ViIGZpZWxkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBzdWI6ICd1c2VyMTIzJyB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRVc2VySWRGcm9tVG9rZW4odG9rZW4pKS50b0JlKCd1c2VyMTIzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3QgdXNlciBJRCBmcm9tIHVzZXJJZCBmaWVsZCcsICgpID0+IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXNlcklkOiAndXNlcjQ1NicgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcblxyXG4gICAgICBleHBlY3QoZ2V0VXNlcklkRnJvbVRva2VuKHRva2VuKSkudG9CZSgndXNlcjQ1NicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBpZiBubyB1c2VyIElEIGZvdW5kJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG5cclxuICAgICAgZXhwZWN0KGdldFVzZXJJZEZyb21Ub2tlbih0b2tlbikpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldEVtYWlsRnJvbVRva2VuJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBleHRyYWN0IGVtYWlsIGZyb20gdG9rZW4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcblxyXG4gICAgICBleHBlY3QoZ2V0RW1haWxGcm9tVG9rZW4odG9rZW4pKS50b0JlKCd0ZXN0QGV4YW1wbGUuY29tJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGlmIG5vIGVtYWlsIGZvdW5kJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBzdWI6ICd1c2VyMTIzJyB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRFbWFpbEZyb21Ub2tlbih0b2tlbikpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldFJvbGVzRnJvbVRva2VuJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBleHRyYWN0IHJvbGVzIGZyb20gdG9rZW4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHJvbGVzOiBbJ2FkbWluJywgJ3VzZXInXSB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRSb2xlc0Zyb21Ub2tlbih0b2tlbikpLnRvRXF1YWwoWydhZG1pbicsICd1c2VyJ10pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZW1wdHkgYXJyYXkgaWYgbm8gcm9sZXMgZm91bmQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHN1YjogJ3VzZXIxMjMnIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG5cclxuICAgICAgZXhwZWN0KGdldFJvbGVzRnJvbVRva2VuKHRva2VuKSkudG9FcXVhbChbXSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2Zvcm1hdEF1dGhIZWFkZXInLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBCZWFyZXIgdG9rZW4gaGVhZGVyJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0b2tlbiA9ICdhYmMxMjMnO1xyXG5cclxuICAgICAgZXhwZWN0KGZvcm1hdEF1dGhIZWFkZXIodG9rZW4pKS50b0JlKCdCZWFyZXIgYWJjMTIzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBjdXN0b20gdG9rZW4gdHlwZScsICgpID0+IHtcclxuICAgICAgY29uc3QgdG9rZW4gPSAnYWJjMTIzJztcclxuXHJcbiAgICAgIGV4cGVjdChmb3JtYXRBdXRoSGVhZGVyKHRva2VuLCAnQmFzaWMnKSkudG9CZSgnQmFzaWMgYWJjMTIzJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldE9wdGltYWxSZWZyZXNoVGltZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIG9wdGltYWwgcmVmcmVzaCB0aW1lJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IGZ1dHVyZVRpbWUgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVNb2NrVG9rZW4ocGF5bG9hZCk7XHJcbiAgICAgIGNvbnN0IHRva2VuczogSldUVG9rZW5zID0ge1xyXG4gICAgICAgIGFjY2Vzc1Rva2VuOiB0b2tlbixcclxuICAgICAgICByZWZyZXNoVG9rZW46ICcnLFxyXG4gICAgICAgIGV4cGlyZXNJbjogMzYwMCxcclxuICAgICAgICB0b2tlblR5cGU6ICdCZWFyZXInLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVmcmVzaFRpbWUgPSBnZXRPcHRpbWFsUmVmcmVzaFRpbWUodG9rZW5zKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZWZyZXNoVGltZSkudG9CZUdyZWF0ZXJUaGFuKDYwKTsgLy8gQXQgbGVhc3QgNjAgc2Vjb25kc1xyXG4gICAgICBleHBlY3QocmVmcmVzaFRpbWUpLnRvQmVMZXNzVGhhbigzNjAwKTsgLy8gTGVzcyB0aGFuIGZ1bGwgdG9rZW4gbGlmZXRpbWVcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnaXNSZWZyZXNoVG9rZW5WYWxpZCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVmcmVzaCB0b2tlbiB3aXRob3V0IGV4cGlyYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHR5cGU6ICdyZWZyZXNoJyB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuICAgICAgY29uc3QgdG9rZW5zOiBKV1RUb2tlbnMgPSB7XHJcbiAgICAgICAgYWNjZXNzVG9rZW46ICcnLFxyXG4gICAgICAgIHJlZnJlc2hUb2tlbjogdG9rZW4sXHJcbiAgICAgICAgZXhwaXJlc0luOiAzNjAwLFxyXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoaXNSZWZyZXNoVG9rZW5WYWxpZCh0b2tlbnMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByZWZyZXNoIHRva2VuIHdpdGggZnV0dXJlIGV4cGlyYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4cDogZnV0dXJlVGltZSB9O1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZU1vY2tUb2tlbihwYXlsb2FkKTtcclxuICAgICAgY29uc3QgdG9rZW5zOiBKV1RUb2tlbnMgPSB7XHJcbiAgICAgICAgYWNjZXNzVG9rZW46ICcnLFxyXG4gICAgICAgIHJlZnJlc2hUb2tlbjogdG9rZW4sXHJcbiAgICAgICAgZXhwaXJlc0luOiAzNjAwLFxyXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoaXNSZWZyZXNoVG9rZW5WYWxpZCh0b2tlbnMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZXhwaXJlZCByZWZyZXNoIHRva2VuJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyBleHA6IHBhc3RUaW1lIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG4gICAgICBjb25zdCB0b2tlbnM6IEpXVFRva2VucyA9IHtcclxuICAgICAgICBhY2Nlc3NUb2tlbjogJycsXHJcbiAgICAgICAgcmVmcmVzaFRva2VuOiB0b2tlbixcclxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXHJcbiAgICAgICAgdG9rZW5UeXBlOiAnQmVhcmVyJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChpc1JlZnJlc2hUb2tlblZhbGlkKHRva2VucykpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRUb2tlbkluZm8nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3QgY29tcHJlaGVuc2l2ZSB0b2tlbiBpbmZvcm1hdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgaXNzdWVkQXQgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIDE4MDA7IC8vIDMwIG1pbnV0ZXMgYWdvXHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgc3ViOiAndXNlcjEyMycsXHJcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICByb2xlczogWyd1c2VyJ10sXHJcbiAgICAgICAgaWF0OiBpc3N1ZWRBdCxcclxuICAgICAgICBleHA6IGZ1dHVyZVRpbWUsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlTW9ja1Rva2VuKHBheWxvYWQpO1xyXG5cclxuICAgICAgY29uc3QgaW5mbyA9IGdldFRva2VuSW5mbyh0b2tlbik7XHJcblxyXG4gICAgICBleHBlY3QoaW5mbykudG9FcXVhbCh7XHJcbiAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXHJcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICByb2xlczogWyd1c2VyJ10sXHJcbiAgICAgICAgaXNzdWVkQXQ6IG5ldyBEYXRlKGlzc3VlZEF0ICogMTAwMCksXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShmdXR1cmVUaW1lICogMTAwMCksXHJcbiAgICAgICAgdGltZVJlbWFpbmluZzogZXhwZWN0LmFueShOdW1iZXIpLFxyXG4gICAgICAgIGlzRXhwaXJlZDogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCB0b2tlbicsICgpID0+IHtcclxuICAgICAgY29uc3QgaW52YWxpZFRva2VuID0gJ2ludmFsaWQudG9rZW4nO1xyXG5cclxuICAgICAgZXhwZWN0KGdldFRva2VuSW5mbyhpbnZhbGlkVG9rZW4pKS50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQU9BLElBQUFBLFdBQUEsR0FBQUMsT0FBQTtBQWlCQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUlDLE9BQVks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TTRDLE1BQWlCLEdBQUc7UUFDeEJKLFdBQVcsRUFBRSxFQUFFO1FBQ2ZDLFlBQVksRUFBRWpCLEtBQUs7UUFDbkJrQixTQUFTLEVBQUUsSUFBSTtRQUNmQyxTQUFTLEVBQUU7TUFDYixDQUFDO01BRURoQixNQUFNLENBQUMsSUFBQW1DLCtCQUFtQixFQUFDbEIsTUFBTSxDQUFDLENBQUMsQ0FBQ1gsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNqRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRmQsUUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNO0lBQzdCQyxFQUFFLENBQUMsZ0RBQWdELEVBQUUsWUFBTTtNQUN6RCxJQUFNMkMsUUFBUSxHQUFHbEQsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJO01BQ3JELElBQU1oQixPQUFPLEdBQUc7UUFDZHFCLEdBQUcsRUFBRSxTQUFTO1FBQ2RDLEtBQUssRUFBRSxrQkFBa0I7UUFDekJpQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDZlMsR0FBRyxFQUFFRCxRQUFRO1FBQ2J4QyxHQUFHLEVBQUVYO01BQ1AsQ0FBQztNQUNELElBQU1ZLEtBQUssR0FBR3pCLGVBQWUsQ0FBQ0MsT0FBTyxDQUFDO01BRXRDLElBQU1pRSxJQUFJLEdBQUcsSUFBQUMsd0JBQVksRUFBQzFDLEtBQUssQ0FBQztNQUVoQ0csTUFBTSxDQUFDc0MsSUFBSSxDQUFDLENBQUNyQyxPQUFPLENBQUM7UUFDbkJ5QixNQUFNLEVBQUUsU0FBUztRQUNqQi9CLEtBQUssRUFBRSxrQkFBa0I7UUFDekJpQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDZlEsUUFBUSxFQUFFLElBQUloRCxJQUFJLENBQUNnRCxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ25DSSxTQUFTLEVBQUUsSUFBSXBELElBQUksQ0FBQ0gsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN0Q3dELGFBQWEsRUFBRXpDLE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDO1FBQ2pDcEIsU0FBUyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUY5QixFQUFFLENBQUMsc0NBQXNDLEVBQUUsWUFBTTtNQUMvQyxJQUFNUyxZQUFZLEdBQUcsZUFBZTtNQUVwQ0YsTUFBTSxDQUFDLElBQUF1Qyx3QkFBWSxFQUFDckMsWUFBWSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7SUFDL0MsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119