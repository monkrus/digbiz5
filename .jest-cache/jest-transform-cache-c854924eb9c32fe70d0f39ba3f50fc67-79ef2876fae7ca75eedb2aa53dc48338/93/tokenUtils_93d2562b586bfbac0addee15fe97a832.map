{"version":3,"names":["decodeJWTPayload","exports","token","cov_2cmvwkn4rz","f","s","parts","split","length","b","payload","paddedPayload","repeat","Buffer","decoded","from","toString","JSON","parse","error","isTokenExpired","exp","currentTime","Math","floor","Date","now","getTokenExpirationTime","getTokenTimeRemaining","expirationTime","remaining","max","validateTokens","tokens","accessToken","isValid","isExpired","shouldRefresh","timeRemaining","expiresIn","getUserIdFromToken","sub","userId","id","getEmailFromToken","email","getRolesFromToken","roles","permissions","formatAuthHeader","tokenType","arguments","undefined","getOptimalRefreshTime","isRefreshTokenValid","refreshToken","getTokenInfo","issuedAt","iat","expiresAt"],"sources":["tokenUtils.ts"],"sourcesContent":["/**\n * JWT Token Utilities\n *\n * Provides utilities for JWT token validation, parsing, and management.\n * Handles token expiration checks and refresh logic.\n */\n\nimport { JWTTokens, TokenValidation } from '../types/auth';\n\n/**\n * Decodes JWT token payload without verification\n */\nexport const decodeJWTPayload = (token: string): any | null => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n      return null;\n    }\n\n    const payload = parts[1];\n    const paddedPayload = payload + '='.repeat((4 - payload.length % 4) % 4);\n    \n    if (typeof Buffer !== 'undefined') {\n      const decoded = Buffer.from(paddedPayload, 'base64').toString('utf-8');\n      return JSON.parse(decoded);\n    }\n    \n    return null;\n  } catch (error) {\n    return null;\n  }\n};\n\n/**\n * Checks if JWT token is expired\n */\nexport const isTokenExpired = (token: string): boolean => {\n  const payload = decodeJWTPayload(token);\n  if (!payload || !payload.exp) {\n    return true;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  return payload.exp < currentTime;\n};\n\n/**\n * Gets token expiration time in seconds\n */\nexport const getTokenExpirationTime = (token: string): number | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.exp || null;\n};\n\n/**\n * Gets remaining time until token expires (in seconds)\n */\nexport const getTokenTimeRemaining = (token: string): number => {\n  const expirationTime = getTokenExpirationTime(token);\n  if (!expirationTime) {\n    return 0;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  const remaining = expirationTime - currentTime;\n  return Math.max(0, remaining);\n};\n\n/**\n * Validates JWT tokens and determines if refresh is needed\n */\nexport const validateTokens = (tokens: JWTTokens): TokenValidation => {\n  if (!tokens || !tokens.accessToken) {\n    return {\n      isValid: false,\n      isExpired: true,\n      shouldRefresh: false,\n    };\n  }\n\n  const isExpired = isTokenExpired(tokens.accessToken);\n  const timeRemaining = getTokenTimeRemaining(tokens.accessToken);\n\n  // Refresh if token expires within 5 minutes (300 seconds)\n  const shouldRefresh = timeRemaining < 300;\n\n  return {\n    isValid: !isExpired,\n    isExpired,\n    expiresIn: timeRemaining,\n    shouldRefresh,\n  };\n};\n\n/**\n * Extracts user ID from JWT token\n */\nexport const getUserIdFromToken = (token: string): string | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.sub || payload?.userId || payload?.id || null;\n};\n\n/**\n * Extracts user email from JWT token\n */\nexport const getEmailFromToken = (token: string): string | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.email || null;\n};\n\n/**\n * Extracts user roles/permissions from JWT token\n */\nexport const getRolesFromToken = (token: string): string[] => {\n  const payload = decodeJWTPayload(token);\n  return payload?.roles || payload?.permissions || [];\n};\n\n/**\n * Formats authorization header for API requests\n */\nexport const formatAuthHeader = (\n  token: string,\n  tokenType: string = 'Bearer',\n): string => {\n  return `${tokenType} ${token}`;\n};\n\n/**\n * Calculates optimal refresh time (80% of token lifetime)\n */\nexport const getOptimalRefreshTime = (tokens: JWTTokens): number => {\n  const timeRemaining = getTokenTimeRemaining(tokens.accessToken);\n  // Refresh at 80% of remaining time, minimum 60 seconds\n  return Math.max(60, Math.floor(timeRemaining * 0.8));\n};\n\n/**\n * Checks if refresh token is still valid\n */\nexport const isRefreshTokenValid = (tokens: JWTTokens): boolean => {\n  if (!tokens.refreshToken) {\n    return false;\n  }\n\n  // If refresh token doesn't expire, assume it's valid\n  const payload = decodeJWTPayload(tokens.refreshToken);\n  if (!payload || !payload.exp) {\n    return true;\n  }\n\n  return !isTokenExpired(tokens.refreshToken);\n};\n\n/**\n * Token utilities for debugging and monitoring\n */\nexport const getTokenInfo = (token: string) => {\n  const payload = decodeJWTPayload(token);\n  if (!payload) {\n    return null;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  const issuedAt = payload.iat ? new Date(payload.iat * 1000) : null;\n  const expiresAt = payload.exp ? new Date(payload.exp * 1000) : null;\n  const timeRemaining = payload.exp ? payload.exp - currentTime : null;\n\n  return {\n    userId: payload.sub || payload.userId || payload.id,\n    email: payload.email,\n    roles: payload.roles || payload.permissions || [],\n    issuedAt,\n    expiresAt,\n    timeRemaining,\n    isExpired: timeRemaining ? timeRemaining <= 0 : false,\n  };\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}