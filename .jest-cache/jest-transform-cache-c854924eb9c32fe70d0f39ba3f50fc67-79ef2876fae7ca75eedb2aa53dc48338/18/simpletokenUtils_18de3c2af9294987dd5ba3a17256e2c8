b043bbdff04347fcac226d5630043166
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatAuthHeader = exports.decodeJWTPayload = void 0;
var formatAuthHeader = exports.formatAuthHeader = function formatAuthHeader(token) {
  var tokenType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Bearer';
  return `${tokenType} ${token}`;
};
var decodeJWTPayload = exports.decodeJWTPayload = function decodeJWTPayload(token) {
  try {
    var parts = token.split('.');
    if (parts.length !== 3) {
      return null;
    }
    var payload = parts[1];
    var paddedPayload = payload + '='.repeat((4 - payload.length % 4) % 4);
    if (typeof Buffer !== 'undefined') {
      var decoded = Buffer.from(paddedPayload, 'base64').toString('utf-8');
      return JSON.parse(decoded);
    }
    return null;
  } catch (error) {
    return null;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmb3JtYXRBdXRoSGVhZGVyIiwiZXhwb3J0cyIsInRva2VuIiwidG9rZW5UeXBlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVjb2RlSldUUGF5bG9hZCIsInBhcnRzIiwic3BsaXQiLCJwYXlsb2FkIiwicGFkZGVkUGF5bG9hZCIsInJlcGVhdCIsIkJ1ZmZlciIsImRlY29kZWQiLCJmcm9tIiwidG9TdHJpbmciLCJKU09OIiwicGFyc2UiLCJlcnJvciJdLCJzb3VyY2VzIjpbInNpbXBsZS10b2tlblV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxpZmllZCB0b2tlblV0aWxzIGZvciB0ZXN0aW5nXG4gKi9cblxuZXhwb3J0IGNvbnN0IGZvcm1hdEF1dGhIZWFkZXIgPSAodG9rZW46IHN0cmluZywgdG9rZW5UeXBlOiBzdHJpbmcgPSAnQmVhcmVyJyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgJHt0b2tlblR5cGV9ICR7dG9rZW59YDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWNvZGVKV1RQYXlsb2FkID0gKHRva2VuOiBzdHJpbmcpOiBhbnkgfCBudWxsID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IHBhcnRzWzFdO1xuICAgIGNvbnN0IHBhZGRlZFBheWxvYWQgPSBwYXlsb2FkICsgJz0nLnJlcGVhdCgoNCAtIHBheWxvYWQubGVuZ3RoICUgNCkgJSA0KTtcbiAgICBcbiAgICAvLyBVc2UgQnVmZmVyIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBkZWNvZGVkID0gQnVmZmVyLmZyb20ocGFkZGVkUGF5bG9hZCwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIGZvciBvdGhlciBlbnZpcm9ubWVudHNcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTsiXSwibWFwcGluZ3MiOiI7Ozs7QUFJTyxJQUFNQSxnQkFBZ0IsR0FBQUMsT0FBQSxDQUFBRCxnQkFBQSxHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUlFLEtBQWEsRUFBMkM7RUFBQSxJQUF6Q0MsU0FBaUIsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsUUFBUTtFQUMxRSxPQUFPLEdBQUdELFNBQVMsSUFBSUQsS0FBSyxFQUFFO0FBQ2hDLENBQUM7QUFFTSxJQUFNSyxnQkFBZ0IsR0FBQU4sT0FBQSxDQUFBTSxnQkFBQSxHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUlMLEtBQWEsRUFBaUI7RUFDN0QsSUFBSTtJQUNGLElBQU1NLEtBQUssR0FBR04sS0FBSyxDQUFDTyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQzlCLElBQUlELEtBQUssQ0FBQ0gsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUN0QixPQUFPLElBQUk7SUFDYjtJQUVBLElBQU1LLE9BQU8sR0FBR0YsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QixJQUFNRyxhQUFhLEdBQUdELE9BQU8sR0FBRyxHQUFHLENBQUNFLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBR0YsT0FBTyxDQUFDTCxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUd4RSxJQUFJLE9BQU9RLE1BQU0sS0FBSyxXQUFXLEVBQUU7TUFDakMsSUFBTUMsT0FBTyxHQUFHRCxNQUFNLENBQUNFLElBQUksQ0FBQ0osYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDSyxRQUFRLENBQUMsT0FBTyxDQUFDO01BQ3RFLE9BQU9DLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixPQUFPLENBQUM7SUFDNUI7SUFHQSxPQUFPLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT0ssS0FBSyxFQUFFO0lBQ2QsT0FBTyxJQUFJO0VBQ2I7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119