8a9eb8b299852573237e7c4afc536b79
_getJestObj().mock('../../src/services/tokenStorage');
_getJestObj().mock('../../src/services/authService');
_getJestObj().mock('../../src/utils/tokenUtils');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _toolkit = require("@reduxjs/toolkit");
var _tokenStorage = require("../../src/services/tokenStorage");
var _authService = require("../../src/services/authService");
var _authSlice = _interopRequireWildcard(require("../../src/store/authSlice"));
var _tokenUtils = require("../../src/utils/tokenUtils");
var _testUtils = require("../utils/testUtils");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('Token Refresh Mechanism', function () {
  var store;
  var mockTokenStorage;
  var mockAuthService;
  var mockValidateTokens;
  beforeEach(function () {
    (0, _testUtils.setupMocks)();
    store = (0, _toolkit.configureStore)({
      reducer: {
        auth: _authSlice.default
      },
      middleware: function middleware(getDefaultMiddleware) {
        return getDefaultMiddleware({
          serializableCheck: false
        });
      }
    });
    mockTokenStorage = _tokenStorage.tokenStorage;
    mockAuthService = _authService.authService;
    mockValidateTokens = _tokenUtils.validateTokens;
  });
  afterEach(function () {
    (0, _testUtils.teardownMocks)();
  });
  describe('Automatic Token Refresh', function () {
    it('should refresh tokens when they are expired', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token',
        expiresIn: Date.now() + 3600000
      });
      mockValidateTokens.mockReturnValue({
        isValid: false,
        isExpired: true,
        needsRefresh: true,
        expiresAt: expiredTokens.expiresIn,
        timeUntilExpiry: -1000
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockTokenStorage.hasValidTokens.mockResolvedValue(false);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: true,
        tokens: newTokens
      });
      mockTokenStorage.setTokens.mockResolvedValue();
      mockValidateTokens.mockReturnValueOnce({
        isValid: true,
        isExpired: false,
        needsRefresh: false,
        expiresAt: newTokens.expiresIn,
        timeUntilExpiry: 3600000
      });
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      yield (0, _testUtils.flushPromises)();
      expect(result.type).toBe('auth/refreshTokens/fulfilled');
      expect(result.payload).toEqual({
        tokens: newTokens
      });
      var state = store.getState().auth;
      expect(state.tokens).toEqual(newTokens);
      expect(state.isAuthenticated).toBe(true);
      expect(mockAuthService.refreshTokens).toHaveBeenCalled();
      expect(mockTokenStorage.setTokens).toHaveBeenCalledWith(newTokens);
    }));
    it('should handle refresh token expiration', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      mockValidateTokens.mockReturnValue({
        isValid: false,
        isExpired: true,
        needsRefresh: true,
        expiresAt: expiredTokens.expiresIn,
        timeUntilExpiry: -1000
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: false,
        message: 'Refresh token expired',
        code: 'REFRESH_TOKEN_EXPIRED'
      });
      mockTokenStorage.removeTokens.mockResolvedValue();
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/rejected');
      var state = store.getState().auth;
      expect(state.isAuthenticated).toBe(false);
      expect(state.tokens).toBeNull();
      expect(state.user).toBeNull();
      expect(mockTokenStorage.removeTokens).toHaveBeenCalled();
    }));
    it('should retry failed refresh attempts', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token'
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockAuthService.refreshTokens.mockResolvedValueOnce({
        success: false,
        message: 'Network error',
        code: 'NETWORK_ERROR'
      }).mockResolvedValueOnce({
        success: true,
        tokens: newTokens
      });
      var firstResult = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(firstResult.type).toBe('auth/refreshTokens/rejected');
      var secondResult = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(secondResult.type).toBe('auth/refreshTokens/fulfilled');
      expect(secondResult.payload).toEqual({
        tokens: newTokens
      });
    }));
  });
  describe('Concurrent Refresh Handling', function () {
    it('should handle concurrent refresh requests', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token'
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      var refreshCallCount = 0;
      mockAuthService.refreshTokens.mockImplementation(function () {
        refreshCallCount++;
        return new Promise(function (resolve) {
          setTimeout(function () {
            resolve({
              success: true,
              tokens: Object.assign({}, newTokens, {
                accessToken: `token_${refreshCallCount}`
              })
            });
          }, 100);
        });
      });
      var promises = [store.dispatch((0, _authSlice.refreshTokens)()), store.dispatch((0, _authSlice.refreshTokens)()), store.dispatch((0, _authSlice.refreshTokens)())];
      var results = yield Promise.all(promises);
      results.forEach(function (result) {
        expect(result.type).toBe('auth/refreshTokens/fulfilled');
      });
      expect(refreshCallCount).toBe(1);
    }));
    it('should handle refresh during other auth operations', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token'
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockTokenStorage.hasValidTokens.mockResolvedValue(false);
      mockAuthService.refreshTokens.mockImplementation(function () {
        return new Promise(function (resolve) {
          setTimeout(function () {
            resolve({
              success: true,
              tokens: newTokens
            });
          }, 200);
        });
      });
      mockAuthService.getCurrentUser.mockResolvedValue({
        success: true,
        user: _testUtils.mockUser
      });
      var _yield$Promise$all = yield Promise.all([store.dispatch((0, _authSlice.refreshTokens)()), store.dispatch((0, _authSlice.initializeAuth)())]),
        _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2),
        refreshResult = _yield$Promise$all2[0],
        initResult = _yield$Promise$all2[1];
      expect(refreshResult.type).toBe('auth/refreshTokens/fulfilled');
      var state = store.getState().auth;
      expect(state.isLoading).toBe(false);
    }));
  });
  describe('Preemptive Token Refresh', function () {
    it('should refresh tokens before they expire', (0, _asyncToGenerator2.default)(function* () {
      var soonToExpireTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() + 300000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token',
        expiresIn: Date.now() + 3600000
      });
      mockValidateTokens.mockReturnValue({
        isValid: true,
        isExpired: false,
        needsRefresh: true,
        expiresAt: soonToExpireTokens.expiresIn,
        timeUntilExpiry: 300000
      });
      mockTokenStorage.getTokens.mockResolvedValue(soonToExpireTokens);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: true,
        tokens: newTokens
      });
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/fulfilled');
      expect(mockAuthService.refreshTokens).toHaveBeenCalled();
      var state = store.getState().auth;
      expect(state.tokens).toEqual(newTokens);
    }));
    it('should schedule automatic refresh before expiration', (0, _asyncToGenerator2.default)(function* () {
      var tokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() + 600000
      });
      mockValidateTokens.mockReturnValue({
        isValid: true,
        isExpired: false,
        needsRefresh: false,
        expiresAt: tokens.expiresIn,
        timeUntilExpiry: 600000
      });
      mockTokenStorage.hasValidTokens.mockResolvedValue(true);
      mockTokenStorage.getTokens.mockResolvedValue(tokens);
      mockAuthService.getCurrentUser.mockResolvedValue({
        success: true,
        user: _testUtils.mockUser
      });
      yield store.dispatch((0, _authSlice.initializeAuth)());
      var state = store.getState().auth;
      expect(state.isAuthenticated).toBe(true);
      expect(state.tokens).toEqual(tokens);
    }));
  });
  describe('Token Refresh Error Scenarios', function () {
    it('should handle network errors during refresh', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockAuthService.refreshTokens.mockRejectedValue(new Error('Network error'));
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/rejected');
      var state = store.getState().auth;
      expect(state.error).toBeTruthy();
      expect(state.isAuthenticated).toBe(false);
    }));
    it('should handle malformed refresh response', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: true,
        tokens: null
      });
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/rejected');
    }));
    it('should handle refresh when no refresh token exists', (0, _asyncToGenerator2.default)(function* () {
      mockTokenStorage.getTokens.mockResolvedValue(null);
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/rejected');
      expect(mockAuthService.refreshTokens).not.toHaveBeenCalled();
    }));
    it('should clear invalid tokens after failed refresh', (0, _asyncToGenerator2.default)(function* () {
      var invalidTokens = Object.assign({}, _testUtils.mockTokens, {
        refreshToken: 'invalid_refresh_token'
      });
      mockTokenStorage.getTokens.mockResolvedValue(invalidTokens);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: false,
        message: 'Invalid refresh token',
        code: 'INVALID_REFRESH_TOKEN'
      });
      mockTokenStorage.removeTokens.mockResolvedValue();
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/rejected');
      expect(mockTokenStorage.removeTokens).toHaveBeenCalled();
      var state = store.getState().auth;
      expect(state.tokens).toBeNull();
      expect(state.isAuthenticated).toBe(false);
    }));
  });
  describe('Token Validation Integration', function () {
    it('should validate tokens after successful refresh', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token',
        expiresIn: Date.now() + 3600000
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      mockAuthService.refreshTokens.mockResolvedValue({
        success: true,
        tokens: newTokens
      });
      mockValidateTokens.mockReturnValueOnce({
        isValid: true,
        isExpired: false,
        needsRefresh: false,
        expiresAt: newTokens.expiresIn,
        timeUntilExpiry: 3600000
      });
      var result = yield store.dispatch((0, _authSlice.refreshTokens)());
      expect(result.type).toBe('auth/refreshTokens/fulfilled');
      expect(mockValidateTokens).toHaveBeenCalledWith(newTokens);
    }));
    it('should handle refresh loop prevention', (0, _asyncToGenerator2.default)(function* () {
      var refreshCount = 0;
      mockTokenStorage.getTokens.mockResolvedValue(_testUtils.mockTokens);
      mockAuthService.refreshTokens.mockImplementation(function () {
        refreshCount++;
        if (refreshCount > 3) {
          return Promise.resolve({
            success: false,
            message: 'Too many refresh attempts',
            code: 'REFRESH_LIMIT_EXCEEDED'
          });
        }
        return Promise.resolve({
          success: false,
          message: 'Temporary error',
          code: 'TEMPORARY_ERROR'
        });
      });
      for (var i = 0; i < 5; i++) {
        yield store.dispatch((0, _authSlice.refreshTokens)());
      }
      expect(refreshCount).toBeLessThanOrEqual(3);
    }));
  });
  describe('Performance and Race Conditions', function () {
    it('should debounce rapid refresh requests', (0, _asyncToGenerator2.default)(function* () {
      var expiredTokens = Object.assign({}, _testUtils.mockTokens, {
        expiresIn: Date.now() - 1000
      });
      var newTokens = Object.assign({}, _testUtils.mockTokens, {
        accessToken: 'new_access_token'
      });
      mockTokenStorage.getTokens.mockResolvedValue(expiredTokens);
      var refreshCallCount = 0;
      mockAuthService.refreshTokens.mockImplementation(function () {
        refreshCallCount++;
        return Promise.resolve({
          success: true,
          tokens: newTokens
        });
      });
      var promises = Array.from({
        length: 10
      }, function () {
        return store.dispatch((0, _authSlice.refreshTokens)());
      });
      yield Promise.all(promises);
      expect(refreshCallCount).toBe(1);
    }));
    it('should handle timeout during refresh', (0, _asyncToGenerator2.default)(function* () {
      mockTokenStorage.getTokens.mockResolvedValue(_testUtils.mockTokens);
      mockAuthService.refreshTokens.mockImplementation(function () {
        return new Promise(function (resolve) {
          setTimeout(function () {
            resolve({
              success: true,
              tokens: _testUtils.mockTokens
            });
          }, 10000);
        });
      });
      var refreshPromise = store.dispatch((0, _authSlice.refreshTokens)());
      yield expect((0, _testUtils.withTimeout)(refreshPromise, 1000)).rejects.toThrow('Test timeout');
    }));
    it('should maintain consistent state during concurrent operations', (0, _asyncToGenerator2.default)(function* () {
      var initialState = store.getState().auth;
      expect(initialState.isLoading).toBe(false);
      mockTokenStorage.getTokens.mockResolvedValue(_testUtils.mockTokens);
      mockAuthService.refreshTokens.mockImplementation(function () {
        return new Promise(function (resolve) {
          setTimeout(function () {
            resolve({
              success: true,
              tokens: _testUtils.mockTokens
            });
          }, 100);
        });
      });
      var operations = [store.dispatch((0, _authSlice.refreshTokens)()), store.dispatch((0, _authSlice.refreshTokens)()), store.dispatch((0, _authSlice.initializeAuth)())];
      yield Promise.all(operations);
      var finalState = store.getState().auth;
      expect(finalState.isLoading).toBe(false);
      if (finalState.isAuthenticated) {
        expect(finalState.tokens).toBeTruthy();
      }
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zbGljZWRUb0FycmF5MiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl90b29sa2l0IiwiX3Rva2VuU3RvcmFnZSIsIl9hdXRoU2VydmljZSIsIl9hdXRoU2xpY2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl90b2tlblV0aWxzIiwiX3Rlc3RVdGlscyIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlcXVpcmUiLCJqZXN0IiwiZGVzY3JpYmUiLCJzdG9yZSIsIm1vY2tUb2tlblN0b3JhZ2UiLCJtb2NrQXV0aFNlcnZpY2UiLCJtb2NrVmFsaWRhdGVUb2tlbnMiLCJiZWZvcmVFYWNoIiwic2V0dXBNb2NrcyIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsImF1dGgiLCJhdXRoU2xpY2UiLCJtaWRkbGV3YXJlIiwiZ2V0RGVmYXVsdE1pZGRsZXdhcmUiLCJzZXJpYWxpemFibGVDaGVjayIsInRva2VuU3RvcmFnZSIsImF1dGhTZXJ2aWNlIiwidmFsaWRhdGVUb2tlbnMiLCJhZnRlckVhY2giLCJ0ZWFyZG93bk1vY2tzIiwiaXQiLCJleHBpcmVkVG9rZW5zIiwiYXNzaWduIiwibW9ja1Rva2VucyIsImV4cGlyZXNJbiIsIkRhdGUiLCJub3ciLCJuZXdUb2tlbnMiLCJhY2Nlc3NUb2tlbiIsIm1vY2tSZXR1cm5WYWx1ZSIsImlzVmFsaWQiLCJpc0V4cGlyZWQiLCJuZWVkc1JlZnJlc2giLCJleHBpcmVzQXQiLCJ0aW1lVW50aWxFeHBpcnkiLCJnZXRUb2tlbnMiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImhhc1ZhbGlkVG9rZW5zIiwicmVmcmVzaFRva2VucyIsInN1Y2Nlc3MiLCJ0b2tlbnMiLCJzZXRUb2tlbnMiLCJtb2NrUmV0dXJuVmFsdWVPbmNlIiwicmVzdWx0IiwiZGlzcGF0Y2giLCJmbHVzaFByb21pc2VzIiwiZXhwZWN0IiwidHlwZSIsInRvQmUiLCJwYXlsb2FkIiwidG9FcXVhbCIsInN0YXRlIiwiZ2V0U3RhdGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtZXNzYWdlIiwiY29kZSIsInJlbW92ZVRva2VucyIsInRvQmVOdWxsIiwidXNlciIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImZpcnN0UmVzdWx0Iiwic2Vjb25kUmVzdWx0IiwicmVmcmVzaENhbGxDb3VudCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInByb21pc2VzIiwicmVzdWx0cyIsImFsbCIsImZvckVhY2giLCJnZXRDdXJyZW50VXNlciIsIm1vY2tVc2VyIiwiX3lpZWxkJFByb21pc2UkYWxsIiwiaW5pdGlhbGl6ZUF1dGgiLCJfeWllbGQkUHJvbWlzZSRhbGwyIiwicmVmcmVzaFJlc3VsdCIsImluaXRSZXN1bHQiLCJpc0xvYWRpbmciLCJzb29uVG9FeHBpcmVUb2tlbnMiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiZXJyb3IiLCJ0b0JlVHJ1dGh5Iiwibm90IiwiaW52YWxpZFRva2VucyIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hDb3VudCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJyZWZyZXNoUHJvbWlzZSIsIndpdGhUaW1lb3V0IiwicmVqZWN0cyIsInRvVGhyb3ciLCJpbml0aWFsU3RhdGUiLCJvcGVyYXRpb25zIiwiZmluYWxTdGF0ZSJdLCJzb3VyY2VzIjpbInRva2VuUmVmcmVzaC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVG9rZW4gUmVmcmVzaCBNZWNoYW5pc20gVGVzdHNcbiAqIFxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0cyBmb3IgdG9rZW4gcmVmcmVzaCBmdW5jdGlvbmFsaXR5IGluY2x1ZGluZ1xuICogYXV0b21hdGljIHJlZnJlc2gsIHJhY2UgY29uZGl0aW9ucywgYW5kIGVycm9yIGhhbmRsaW5nLlxuICovXG5cbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyB0b2tlblN0b3JhZ2UgfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvdG9rZW5TdG9yYWdlJztcbmltcG9ydCB7IGF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc3JjL3NlcnZpY2VzL2F1dGhTZXJ2aWNlJztcbmltcG9ydCBhdXRoU2xpY2UsIHsgcmVmcmVzaFRva2VucywgaW5pdGlhbGl6ZUF1dGggfSBmcm9tICcuLi8uLi9zcmMvc3RvcmUvYXV0aFNsaWNlJztcbmltcG9ydCB7IHZhbGlkYXRlVG9rZW5zIH0gZnJvbSAnLi4vLi4vc3JjL3V0aWxzL3Rva2VuVXRpbHMnO1xuaW1wb3J0IHtcbiAgbW9ja1Rva2VucyxcbiAgbW9ja1VzZXIsXG4gIG1vY2tGZXRjaFJlc3BvbnNlLFxuICBzZXR1cE1vY2tzLFxuICB0ZWFyZG93bk1vY2tzLFxuICBmbHVzaFByb21pc2VzLFxuICB3aXRoVGltZW91dCxcbn0gZnJvbSAnLi4vdXRpbHMvdGVzdFV0aWxzJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi4vLi4vc3JjL3NlcnZpY2VzL3Rva2VuU3RvcmFnZScpO1xuamVzdC5tb2NrKCcuLi8uLi9zcmMvc2VydmljZXMvYXV0aFNlcnZpY2UnKTtcbmplc3QubW9jaygnLi4vLi4vc3JjL3V0aWxzL3Rva2VuVXRpbHMnKTtcblxuZGVzY3JpYmUoJ1Rva2VuIFJlZnJlc2ggTWVjaGFuaXNtJywgKCkgPT4ge1xuICBsZXQgc3RvcmU6IFJldHVyblR5cGU8dHlwZW9mIGNvbmZpZ3VyZVN0b3JlPjtcbiAgbGV0IG1vY2tUb2tlblN0b3JhZ2U6IGplc3QuTW9ja2VkPHR5cGVvZiB0b2tlblN0b3JhZ2U+O1xuICBsZXQgbW9ja0F1dGhTZXJ2aWNlOiBqZXN0Lk1vY2tlZDx0eXBlb2YgYXV0aFNlcnZpY2U+O1xuICBsZXQgbW9ja1ZhbGlkYXRlVG9rZW5zOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiB2YWxpZGF0ZVRva2Vucz47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgc2V0dXBNb2NrcygpO1xuICAgIFxuICAgIHN0b3JlID0gY29uZmlndXJlU3RvcmUoe1xuICAgICAgcmVkdWNlcjogeyBhdXRoOiBhdXRoU2xpY2UgfSxcbiAgICAgIG1pZGRsZXdhcmU6IChnZXREZWZhdWx0TWlkZGxld2FyZSkgPT5cbiAgICAgICAgZ2V0RGVmYXVsdE1pZGRsZXdhcmUoeyBzZXJpYWxpemFibGVDaGVjazogZmFsc2UgfSksXG4gICAgfSk7XG5cbiAgICBtb2NrVG9rZW5TdG9yYWdlID0gdG9rZW5TdG9yYWdlIGFzIGplc3QuTW9ja2VkPHR5cGVvZiB0b2tlblN0b3JhZ2U+O1xuICAgIG1vY2tBdXRoU2VydmljZSA9IGF1dGhTZXJ2aWNlIGFzIGplc3QuTW9ja2VkPHR5cGVvZiBhdXRoU2VydmljZT47XG4gICAgbW9ja1ZhbGlkYXRlVG9rZW5zID0gdmFsaWRhdGVUb2tlbnMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdmFsaWRhdGVUb2tlbnM+O1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIHRlYXJkb3duTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0F1dG9tYXRpYyBUb2tlbiBSZWZyZXNoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVmcmVzaCB0b2tlbnMgd2hlbiB0aGV5IGFyZSBleHBpcmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwaXJlZFRva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpIC0gMTAwMCwgLy8gRXhwaXJlZCAxIHNlY29uZCBhZ29cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG5ld1Rva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgYWNjZXNzVG9rZW46ICduZXdfYWNjZXNzX3Rva2VuJyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpICsgMzYwMDAwMCwgLy8gRXhwaXJlcyBpbiAxIGhvdXJcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwOiB0b2tlbnMgYXJlIGV4cGlyZWRcbiAgICAgIG1vY2tWYWxpZGF0ZVRva2Vucy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgaXNFeHBpcmVkOiB0cnVlLFxuICAgICAgICBuZWVkc1JlZnJlc2g6IHRydWUsXG4gICAgICAgIGV4cGlyZXNBdDogZXhwaXJlZFRva2Vucy5leHBpcmVzSW4sXG4gICAgICAgIHRpbWVVbnRpbEV4cGlyeTogLTEwMDAsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmhhc1ZhbGlkVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHJlZnJlc2hcbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdG9rZW5zOiBuZXdUb2tlbnMsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5zZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoKTtcblxuICAgICAgLy8gQWZ0ZXIgcmVmcmVzaCwgdG9rZW5zIHNob3VsZCBiZSB2YWxpZFxuICAgICAgbW9ja1ZhbGlkYXRlVG9rZW5zLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICBpc0V4cGlyZWQ6IGZhbHNlLFxuICAgICAgICBuZWVkc1JlZnJlc2g6IGZhbHNlLFxuICAgICAgICBleHBpcmVzQXQ6IG5ld1Rva2Vucy5leHBpcmVzSW4sXG4gICAgICAgIHRpbWVVbnRpbEV4cGlyeTogMzYwMDAwMCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpO1xuICAgICAgYXdhaXQgZmx1c2hQcm9taXNlcygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ2F1dGgvcmVmcmVzaFRva2Vucy9mdWxmaWxsZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGF5bG9hZCkudG9FcXVhbCh7IHRva2VuczogbmV3VG9rZW5zIH0pO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICAgIGV4cGVjdChzdGF0ZS50b2tlbnMpLnRvRXF1YWwobmV3VG9rZW5zKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQXV0aFNlcnZpY2UucmVmcmVzaFRva2VucykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tUb2tlblN0b3JhZ2Uuc2V0VG9rZW5zKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChuZXdUb2tlbnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmVmcmVzaCB0b2tlbiBleHBpcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwaXJlZFRva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpIC0gMTAwMCxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tWYWxpZGF0ZVRva2Vucy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgaXNFeHBpcmVkOiB0cnVlLFxuICAgICAgICBuZWVkc1JlZnJlc2g6IHRydWUsXG4gICAgICAgIGV4cGlyZXNBdDogZXhwaXJlZFRva2Vucy5leHBpcmVzSW4sXG4gICAgICAgIHRpbWVVbnRpbEV4cGlyeTogLTEwMDAsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG5cbiAgICAgIC8vIE1vY2sgcmVmcmVzaCB0b2tlbiBleHBpcmVkXG4gICAgICBtb2NrQXV0aFNlcnZpY2UucmVmcmVzaFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnUmVmcmVzaCB0b2tlbiBleHBpcmVkJyxcbiAgICAgICAgY29kZTogJ1JFRlJFU0hfVE9LRU5fRVhQSVJFRCcsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5yZW1vdmVUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2gocmVmcmVzaFRva2VucygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhdXRoL3JlZnJlc2hUb2tlbnMvcmVqZWN0ZWQnKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLmF1dGg7XG4gICAgICBleHBlY3Qoc3RhdGUuaXNBdXRoZW50aWNhdGVkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChzdGF0ZS50b2tlbnMpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc3RhdGUudXNlcikudG9CZU51bGwoKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2tlblN0b3JhZ2UucmVtb3ZlVG9rZW5zKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHJ5IGZhaWxlZCByZWZyZXNoIGF0dGVtcHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwaXJlZFRva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpIC0gMTAwMCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG5ld1Rva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgYWNjZXNzVG9rZW46ICduZXdfYWNjZXNzX3Rva2VuJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tUb2tlblN0b3JhZ2UuZ2V0VG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKGV4cGlyZWRUb2tlbnMpO1xuXG4gICAgICAvLyBGaXJzdCBhdHRlbXB0IGZhaWxzIHdpdGggbmV0d29yayBlcnJvclxuICAgICAgbW9ja0F1dGhTZXJ2aWNlLnJlZnJlc2hUb2tlbnNcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ05ldHdvcmsgZXJyb3InLFxuICAgICAgICAgIGNvZGU6ICdORVRXT1JLX0VSUk9SJyxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0b2tlbnM6IG5ld1Rva2VucyxcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIEZpcnN0IGF0dGVtcHQgLSBzaG91bGQgZmFpbFxuICAgICAgY29uc3QgZmlyc3RSZXN1bHQgPSBhd2FpdCBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpO1xuICAgICAgZXhwZWN0KGZpcnN0UmVzdWx0LnR5cGUpLnRvQmUoJ2F1dGgvcmVmcmVzaFRva2Vucy9yZWplY3RlZCcpO1xuXG4gICAgICAvLyBTZWNvbmQgYXR0ZW1wdCAtIHNob3VsZCBzdWNjZWVkXG4gICAgICBjb25zdCBzZWNvbmRSZXN1bHQgPSBhd2FpdCBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpO1xuICAgICAgZXhwZWN0KHNlY29uZFJlc3VsdC50eXBlKS50b0JlKCdhdXRoL3JlZnJlc2hUb2tlbnMvZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc2Vjb25kUmVzdWx0LnBheWxvYWQpLnRvRXF1YWwoeyB0b2tlbnM6IG5ld1Rva2VucyB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbmN1cnJlbnQgUmVmcmVzaCBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHJlZnJlc2ggcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBleHBpcmVkVG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgLSAxMDAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV3VG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJ25ld19hY2Nlc3NfdG9rZW4nLFxuICAgICAgfTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG5cbiAgICAgIGxldCByZWZyZXNoQ2FsbENvdW50ID0gMDtcbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJlZnJlc2hDYWxsQ291bnQrKztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdG9rZW5zOiB7IC4uLm5ld1Rva2VucywgYWNjZXNzVG9rZW46IGB0b2tlbl8ke3JlZnJlc2hDYWxsQ291bnR9YCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRGlzcGF0Y2ggbXVsdGlwbGUgcmVmcmVzaCByZXF1ZXN0cyBjb25jdXJyZW50bHlcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpLFxuICAgICAgICBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpLFxuICAgICAgICBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpLFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAgICAgLy8gQWxsIHNob3VsZCBjb21wbGV0ZSwgYnV0IHNlcnZpY2Ugc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgZHVlIHRvIGRlZHVwbGljYXRpb25cbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ2F1dGgvcmVmcmVzaFRva2Vucy9mdWxmaWxsZWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPbmx5IG9uZSBhY3R1YWwgcmVmcmVzaCBzaG91bGQgaGF2ZSBvY2N1cnJlZFxuICAgICAgZXhwZWN0KHJlZnJlc2hDYWxsQ291bnQpLnRvQmUoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByZWZyZXNoIGR1cmluZyBvdGhlciBhdXRoIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBleHBpcmVkVG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgLSAxMDAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV3VG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJ25ld19hY2Nlc3NfdG9rZW4nLFxuICAgICAgfTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmhhc1ZhbGlkVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKTtcblxuICAgICAgLy8gTW9jayBzbG93IHJlZnJlc2hcbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIHRva2VuczogbmV3VG9rZW5zIH0pO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgZ2V0Q3VycmVudFVzZXIgY2FsbCB0aGF0IG1pZ2h0IGhhcHBlbiBkdXJpbmcgcmVmcmVzaFxuICAgICAgbW9ja0F1dGhTZXJ2aWNlLmdldEN1cnJlbnRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXNlcjogbW9ja1VzZXIsXG4gICAgICB9KTtcblxuICAgICAgLy8gU3RhcnQgcmVmcmVzaCBhbmQgaW5pdGlhbGl6YXRpb24gY29uY3VycmVudGx5XG4gICAgICBjb25zdCBbcmVmcmVzaFJlc3VsdCwgaW5pdFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSksXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGluaXRpYWxpemVBdXRoKCkpLFxuICAgICAgXSk7XG5cbiAgICAgIC8vIEJvdGggc2hvdWxkIGhhbmRsZSB0aGUgY29uY3VycmVudCBvcGVyYXRpb25zIGdyYWNlZnVsbHlcbiAgICAgIGV4cGVjdChyZWZyZXNoUmVzdWx0LnR5cGUpLnRvQmUoJ2F1dGgvcmVmcmVzaFRva2Vucy9mdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLmF1dGg7XG4gICAgICBleHBlY3Qoc3RhdGUuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ByZWVtcHRpdmUgVG9rZW4gUmVmcmVzaCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlZnJlc2ggdG9rZW5zIGJlZm9yZSB0aGV5IGV4cGlyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNvb25Ub0V4cGlyZVRva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpICsgMzAwMDAwLCAvLyBFeHBpcmVzIGluIDUgbWludXRlc1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV3VG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJ25ld19hY2Nlc3NfdG9rZW4nLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgKyAzNjAwMDAwLCAvLyBFeHBpcmVzIGluIDEgaG91clxuICAgICAgfTtcblxuICAgICAgLy8gVG9rZW4gaXMgdmFsaWQgYnV0IHdpbGwgZXhwaXJlIHNvb25cbiAgICAgIG1vY2tWYWxpZGF0ZVRva2Vucy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICBpc0V4cGlyZWQ6IGZhbHNlLFxuICAgICAgICBuZWVkc1JlZnJlc2g6IHRydWUsIC8vIE5lZWRzIHByZWVtcHRpdmUgcmVmcmVzaFxuICAgICAgICBleHBpcmVzQXQ6IHNvb25Ub0V4cGlyZVRva2Vucy5leHBpcmVzSW4sXG4gICAgICAgIHRpbWVVbnRpbEV4cGlyeTogMzAwMDAwLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tUb2tlblN0b3JhZ2UuZ2V0VG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHNvb25Ub0V4cGlyZVRva2Vucyk7XG5cbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdG9rZW5zOiBuZXdUb2tlbnMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2gocmVmcmVzaFRva2VucygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhdXRoL3JlZnJlc2hUb2tlbnMvZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QobW9ja0F1dGhTZXJ2aWNlLnJlZnJlc2hUb2tlbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLmF1dGg7XG4gICAgICBleHBlY3Qoc3RhdGUudG9rZW5zKS50b0VxdWFsKG5ld1Rva2Vucyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNjaGVkdWxlIGF1dG9tYXRpYyByZWZyZXNoIGJlZm9yZSBleHBpcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgKyA2MDAwMDAsIC8vIEV4cGlyZXMgaW4gMTAgbWludXRlc1xuICAgICAgfTtcblxuICAgICAgbW9ja1ZhbGlkYXRlVG9rZW5zLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgIGlzRXhwaXJlZDogZmFsc2UsXG4gICAgICAgIG5lZWRzUmVmcmVzaDogZmFsc2UsXG4gICAgICAgIGV4cGlyZXNBdDogdG9rZW5zLmV4cGlyZXNJbixcbiAgICAgICAgdGltZVVudGlsRXhwaXJ5OiA2MDAwMDAsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5oYXNWYWxpZFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcbiAgICAgIG1vY2tUb2tlblN0b3JhZ2UuZ2V0VG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHRva2Vucyk7XG4gICAgICBtb2NrQXV0aFNlcnZpY2UuZ2V0Q3VycmVudFVzZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB1c2VyOiBtb2NrVXNlcixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJbml0aWFsaXplIGF1dGggd2l0aCB2YWxpZCB0b2tlbnNcbiAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKGluaXRpYWxpemVBdXRoKCkpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICAgIGV4cGVjdChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qoc3RhdGUudG9rZW5zKS50b0VxdWFsKHRva2Vucyk7XG5cbiAgICAgIC8vIFZlcmlmeSB0aGF0IHJlZnJlc2ggd291bGQgYmUgc2NoZWR1bGVkIChpbiByZWFsIGltcGxlbWVudGF0aW9uKVxuICAgICAgLy8gVGhpcyB3b3VsZCB0eXBpY2FsbHkgc2V0IHVwIGEgc2V0VGltZW91dCB0byByZWZyZXNoIGJlZm9yZSBleHBpcmF0aW9uXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUb2tlbiBSZWZyZXNoIEVycm9yIFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycyBkdXJpbmcgcmVmcmVzaCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGlyZWRUb2tlbnMgPSB7XG4gICAgICAgIC4uLm1vY2tUb2tlbnMsXG4gICAgICAgIGV4cGlyZXNJbjogRGF0ZS5ub3coKSAtIDEwMDAsXG4gICAgICB9O1xuXG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmdldFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZShleHBpcmVkVG9rZW5zKTtcblxuICAgICAgLy8gTW9jayBuZXR3b3JrIGVycm9yXG4gICAgICBtb2NrQXV0aFNlcnZpY2UucmVmcmVzaFRva2Vucy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgnYXV0aC9yZWZyZXNoVG9rZW5zL3JlamVjdGVkJyk7XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKS5hdXRoO1xuICAgICAgZXhwZWN0KHN0YXRlLmVycm9yKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3Qoc3RhdGUuaXNBdXRoZW50aWNhdGVkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCByZWZyZXNoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwaXJlZFRva2VucyA9IHtcbiAgICAgICAgLi4ubW9ja1Rva2VucyxcbiAgICAgICAgZXhwaXJlc0luOiBEYXRlLm5vdygpIC0gMTAwMCxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tUb2tlblN0b3JhZ2UuZ2V0VG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKGV4cGlyZWRUb2tlbnMpO1xuXG4gICAgICAvLyBNb2NrIG1hbGZvcm1lZCByZXNwb25zZVxuICAgICAgbW9ja0F1dGhTZXJ2aWNlLnJlZnJlc2hUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0b2tlbnM6IG51bGwgYXMgYW55LCAvLyBJbnZhbGlkIHRva2Vuc1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgnYXV0aC9yZWZyZXNoVG9rZW5zL3JlamVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByZWZyZXNoIHdoZW4gbm8gcmVmcmVzaCB0b2tlbiBleGlzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmdldFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2gocmVmcmVzaFRva2VucygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhdXRoL3JlZnJlc2hUb2tlbnMvcmVqZWN0ZWQnKTtcbiAgICAgIGV4cGVjdChtb2NrQXV0aFNlcnZpY2UucmVmcmVzaFRva2Vucykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgaW52YWxpZCB0b2tlbnMgYWZ0ZXIgZmFpbGVkIHJlZnJlc2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkVG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICByZWZyZXNoVG9rZW46ICdpbnZhbGlkX3JlZnJlc2hfdG9rZW4nLFxuICAgICAgfTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoaW52YWxpZFRva2Vucyk7XG5cbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIHJlZnJlc2ggdG9rZW4nLFxuICAgICAgICBjb2RlOiAnSU5WQUxJRF9SRUZSRVNIX1RPS0VOJyxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLnJlbW92ZVRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZSgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdG9yZS5kaXNwYXRjaChyZWZyZXNoVG9rZW5zKCkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ2F1dGgvcmVmcmVzaFRva2Vucy9yZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KG1vY2tUb2tlblN0b3JhZ2UucmVtb3ZlVG9rZW5zKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKS5hdXRoO1xuICAgICAgZXhwZWN0KHN0YXRlLnRva2VucykudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVG9rZW4gVmFsaWRhdGlvbiBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRva2VucyBhZnRlciBzdWNjZXNzZnVsIHJlZnJlc2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBleHBpcmVkVG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgLSAxMDAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV3VG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJ25ld19hY2Nlc3NfdG9rZW4nLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgKyAzNjAwMDAwLFxuICAgICAgfTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG5cbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdG9rZW5zOiBuZXdUb2tlbnMsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayB2YWxpZGF0aW9uIG9mIG5ldyB0b2tlbnNcbiAgICAgIG1vY2tWYWxpZGF0ZVRva2Vucy5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgICAgaXNFeHBpcmVkOiBmYWxzZSxcbiAgICAgICAgbmVlZHNSZWZyZXNoOiBmYWxzZSxcbiAgICAgICAgZXhwaXJlc0F0OiBuZXdUb2tlbnMuZXhwaXJlc0luLFxuICAgICAgICB0aW1lVW50aWxFeHBpcnk6IDM2MDAwMDAsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2gocmVmcmVzaFRva2VucygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhdXRoL3JlZnJlc2hUb2tlbnMvZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QobW9ja1ZhbGlkYXRlVG9rZW5zKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChuZXdUb2tlbnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmVmcmVzaCBsb29wIHByZXZlbnRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVmcmVzaENvdW50ID0gMDtcbiAgICAgIFxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Rva2Vucyk7XG5cbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJlZnJlc2hDb3VudCsrO1xuICAgICAgICBpZiAocmVmcmVzaENvdW50ID4gMykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVmcmVzaCBhdHRlbXB0cycsXG4gICAgICAgICAgICBjb2RlOiAnUkVGUkVTSF9MSU1JVF9FWENFRURFRCcsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ1RlbXBvcmFyeSBlcnJvcicsXG4gICAgICAgICAgY29kZTogJ1RFTVBPUkFSWV9FUlJPUicsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyeSBtdWx0aXBsZSByZWZyZXNoZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCBoYXZlIGF0dGVtcHRlZCByZWZyZXNoIGJ1dCBzdG9wcGVkIGFmdGVyIGxpbWl0XG4gICAgICBleHBlY3QocmVmcmVzaENvdW50KS50b0JlTGVzc1RoYW5PckVxdWFsKDMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIFJhY2UgQ29uZGl0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlYm91bmNlIHJhcGlkIHJlZnJlc2ggcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBleHBpcmVkVG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBleHBpcmVzSW46IERhdGUubm93KCkgLSAxMDAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV3VG9rZW5zID0ge1xuICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJ25ld19hY2Nlc3NfdG9rZW4nLFxuICAgICAgfTtcblxuICAgICAgbW9ja1Rva2VuU3RvcmFnZS5nZXRUb2tlbnMubW9ja1Jlc29sdmVkVmFsdWUoZXhwaXJlZFRva2Vucyk7XG5cbiAgICAgIGxldCByZWZyZXNoQ2FsbENvdW50ID0gMDtcbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJlZnJlc2hDYWxsQ291bnQrKztcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0b2tlbnM6IG5ld1Rva2VucyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRmlyZSBtYW55IHJlcXVlc3RzIHJhcGlkbHlcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKCkgPT4gXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSlcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAgICAgLy8gU2hvdWxkIG9ubHkgY2FsbCB0aGUgc2VydmljZSBvbmNlIGR1ZSB0byBkZWJvdW5jaW5nXG4gICAgICBleHBlY3QocmVmcmVzaENhbGxDb3VudCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRpbWVvdXQgZHVyaW5nIHJlZnJlc2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmdldFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVG9rZW5zKTtcblxuICAgICAgLy8gTW9jayB2ZXJ5IHNsb3cgcmVmcmVzaFxuICAgICAgbW9ja0F1dGhTZXJ2aWNlLnJlZnJlc2hUb2tlbnMubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdG9rZW5zOiBtb2NrVG9rZW5zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwMDApOyAvLyAxMCBzZWNvbmRzXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlZnJlc2hQcm9taXNlID0gc3RvcmUuZGlzcGF0Y2gocmVmcmVzaFRva2VucygpKTtcblxuICAgICAgLy8gU2hvdWxkIHRpbWVvdXQgYW5kIHJlamVjdFxuICAgICAgYXdhaXQgZXhwZWN0KHdpdGhUaW1lb3V0KHJlZnJlc2hQcm9taXNlLCAxMDAwKSkucmVqZWN0cy50b1Rocm93KCdUZXN0IHRpbWVvdXQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gY29uc2lzdGVudCBzdGF0ZSBkdXJpbmcgY29uY3VycmVudCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKS5hdXRoO1xuICAgICAgZXhwZWN0KGluaXRpYWxTdGF0ZS5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xuXG4gICAgICBtb2NrVG9rZW5TdG9yYWdlLmdldFRva2Vucy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVG9rZW5zKTtcbiAgICAgIG1vY2tBdXRoU2VydmljZS5yZWZyZXNoVG9rZW5zLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIHRva2VuczogbW9ja1Rva2VucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0YXJ0IG11bHRpcGxlIG9wZXJhdGlvbnNcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBbXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSksXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHJlZnJlc2hUb2tlbnMoKSksXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGluaXRpYWxpemVBdXRoKCkpLFxuICAgICAgXTtcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwob3BlcmF0aW9ucyk7XG5cbiAgICAgIGNvbnN0IGZpbmFsU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLmF1dGg7XG4gICAgICBcbiAgICAgIC8vIFN0YXRlIHNob3VsZCBiZSBjb25zaXN0ZW50IC0gbm90IHN0dWNrIGluIGxvYWRpbmdcbiAgICAgIGV4cGVjdChmaW5hbFN0YXRlLmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYXZlIHZhbGlkIHRva2VucyBpZiByZWZyZXNoIHN1Y2NlZWRlZFxuICAgICAgaWYgKGZpbmFsU3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIGV4cGVjdChmaW5hbFN0YXRlLnRva2VucykudG9CZVRydXRoeSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBdUJBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQztBQUM1Q0QsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLENBQUM7QUFDM0NELFdBQUEsR0FBS0MsSUFBSSxDQUFDLDRCQUE0QixDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFFLGtCQUFBLEdB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