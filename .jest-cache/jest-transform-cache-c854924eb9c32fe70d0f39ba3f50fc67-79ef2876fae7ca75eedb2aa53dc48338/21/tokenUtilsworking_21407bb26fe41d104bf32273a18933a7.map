{"version":3,"names":["decodeJWTPayload","exports","token","cov_ek6h1obmp","f","s","parts","split","length","b","payload","paddedPayload","repeat","Buffer","decoded","from","toString","JSON","parse","error","isTokenExpired","exp","currentTime","Math","floor","Date","now","getTokenExpirationTime","getTokenTimeRemaining","expirationTime","remaining","max","validateTokens","tokens","accessToken","isValid","isExpired","shouldRefresh","timeRemaining","expiresIn","getUserIdFromToken","sub","userId","id","getEmailFromToken","email","getRolesFromToken","roles","permissions","formatAuthHeader","tokenType","arguments","undefined","getOptimalRefreshTime","isRefreshTokenValid","refreshToken","getTokenInfo","issuedAt","iat","expiresAt"],"sources":["tokenUtils-working.ts"],"sourcesContent":["/**\n * JWT Token Utilities\n *\n * Provides utilities for JWT token validation, parsing, and management.\n * Handles token expiration checks and refresh logic.\n */\n\n// Type definitions\ntype JWTTokens = {\n  accessToken: string;\n  refreshToken: string;\n  expiresIn: number;\n  tokenType: 'Bearer';\n};\n\ntype TokenValidation = {\n  isValid: boolean;\n  isExpired: boolean;\n  expiresIn?: number;\n  shouldRefresh: boolean;\n};\n\n/**\n * Decodes JWT token payload without verification\n */\nexport const decodeJWTPayload = (token: string): any | null => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n      return null;\n    }\n\n    const payload = parts[1];\n    const paddedPayload = payload + '='.repeat((4 - payload.length % 4) % 4);\n    \n    if (typeof Buffer !== 'undefined') {\n      const decoded = Buffer.from(paddedPayload, 'base64').toString('utf-8');\n      return JSON.parse(decoded);\n    }\n    \n    return null;\n  } catch (error) {\n    return null;\n  }\n};\n\n/**\n * Checks if JWT token is expired\n */\nexport const isTokenExpired = (token: string): boolean => {\n  const payload = decodeJWTPayload(token);\n  if (!payload || !payload.exp) {\n    return true;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  return payload.exp < currentTime;\n};\n\n/**\n * Gets token expiration time in seconds\n */\nexport const getTokenExpirationTime = (token: string): number | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.exp || null;\n};\n\n/**\n * Gets remaining time until token expires (in seconds)\n */\nexport const getTokenTimeRemaining = (token: string): number => {\n  const expirationTime = getTokenExpirationTime(token);\n  if (!expirationTime) {\n    return 0;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  const remaining = expirationTime - currentTime;\n  return Math.max(0, remaining);\n};\n\n/**\n * Validates JWT tokens and determines if refresh is needed\n */\nexport const validateTokens = (tokens: JWTTokens): TokenValidation => {\n  if (!tokens || !tokens.accessToken) {\n    return {\n      isValid: false,\n      isExpired: true,\n      shouldRefresh: false,\n    };\n  }\n\n  const isExpired = isTokenExpired(tokens.accessToken);\n  const timeRemaining = getTokenTimeRemaining(tokens.accessToken);\n\n  // Refresh if token expires within 5 minutes (300 seconds)\n  const shouldRefresh = timeRemaining < 300;\n\n  return {\n    isValid: !isExpired,\n    isExpired,\n    expiresIn: timeRemaining,\n    shouldRefresh,\n  };\n};\n\n/**\n * Extracts user ID from JWT token\n */\nexport const getUserIdFromToken = (token: string): string | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.sub || payload?.userId || payload?.id || null;\n};\n\n/**\n * Extracts user email from JWT token\n */\nexport const getEmailFromToken = (token: string): string | null => {\n  const payload = decodeJWTPayload(token);\n  return payload?.email || null;\n};\n\n/**\n * Extracts user roles/permissions from JWT token\n */\nexport const getRolesFromToken = (token: string): string[] => {\n  const payload = decodeJWTPayload(token);\n  return payload?.roles || payload?.permissions || [];\n};\n\n/**\n * Formats authorization header for API requests\n */\nexport const formatAuthHeader = (\n  token: string,\n  tokenType: string = 'Bearer',\n): string => {\n  return `${tokenType} ${token}`;\n};\n\n/**\n * Calculates optimal refresh time (80% of token lifetime)\n */\nexport const getOptimalRefreshTime = (tokens: JWTTokens): number => {\n  const timeRemaining = getTokenTimeRemaining(tokens.accessToken);\n  // Refresh at 80% of remaining time, minimum 60 seconds\n  return Math.max(60, Math.floor(timeRemaining * 0.8));\n};\n\n/**\n * Checks if refresh token is still valid\n */\nexport const isRefreshTokenValid = (tokens: JWTTokens): boolean => {\n  if (!tokens.refreshToken) {\n    return false;\n  }\n\n  // If refresh token doesn't expire, assume it's valid\n  const payload = decodeJWTPayload(tokens.refreshToken);\n  if (!payload || !payload.exp) {\n    return true;\n  }\n\n  return !isTokenExpired(tokens.refreshToken);\n};\n\n/**\n * Token utilities for debugging and monitoring\n */\nexport const getTokenInfo = (token: string) => {\n  const payload = decodeJWTPayload(token);\n  if (!payload) {\n    return null;\n  }\n\n  const currentTime = Math.floor(Date.now() / 1000);\n  const issuedAt = payload.iat ? new Date(payload.iat * 1000) : null;\n  const expiresAt = payload.exp ? new Date(payload.exp * 1000) : null;\n  const timeRemaining = payload.exp ? payload.exp - currentTime : null;\n\n  return {\n    userId: payload.sub || payload.userId || payload.id,\n    email: payload.email,\n    roles: payload.roles || payload.permissions || [],\n    issuedAt,\n    expiresAt,\n    timeRemaining,\n    isExpired: timeRemaining ? timeRemaining <= 0 : false,\n  };\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}